// ======================================================================
// home.scss — elegant asymmetric layout with GSAP/Swiper friendly hooks
// Depends on: _variables.scss
// ======================================================================

@use "variables" as *;

.container { @include container; }

/* consistent section rhythm (not boxy) */
#home > section { padding-block: clamp($sp-12, 6vw, $sp-20); }

/* ---------------- HERO ---------------- */
.home-hero {
  /* extremely subtle dome to lift the center */
  background:
    radial-gradient(700px 320px at 50% 0%, rgba(0,0,0,.04), transparent 60%);
  html[data-color-scheme="dark"] & {
    background:
      radial-gradient(700px 320px at 50% 0%, rgba(255,255,255,.05), transparent 60%);
  }
}

.home-hero__wrap {
  display: grid;
  grid-template-columns: 1fr;
  gap: clamp($sp-10, 3.5vw, $sp-16);
  align-items: center;
  justify-items: center;
  text-align: center;

  @include mq-up($bp-lg) {
    grid-template-columns: .92fr 1.08fr; /* asymmetry */
    text-align: left;
    justify-items: stretch;
  }
}

/* photo: soft glass frame, not a “card” */
.home-hero__art {
  position: relative; margin: 0;
  width: 100%;
  max-width: clamp(280px, 46vw, 520px);
  aspect-ratio: 1 / 1;
  border-radius: $radius-6; overflow: hidden;
  border: 1px solid;
  @include theme-block      { border-color: rgba(0,0,0,.08); background: tone(background-100, light); box-shadow: $shadow-light; }
  @include theme-block-dark { border-color: rgba(255,255,255,.12); background: tone(background-200, dark); box-shadow: $shadow-dark; }

  img { width: 100%; height: 100%; object-fit: cover; display: block; }
}

/* floating social chips */
.home-hero__chips {
  position: absolute; inset: 0; list-style: none; margin: 0; padding: 0; pointer-events: none;
}
.home-hero__chips li {
  position: absolute; pointer-events: auto;
  display: inline-flex; align-items: center; gap: .45rem; white-space: nowrap;
  font-size: $fs-2; padding: .4rem .7rem; border-radius: $radius-pill; border: 1px solid;
  backdrop-filter: blur(6px);
  @include theme-block      { background: rgba(255,255,255,.7); border-color: rgba(0,0,0,.12); color: tone(contrast, light); }
  @include theme-block-dark { background: rgba(20,20,22,.55);  border-color: rgba(255,255,255,.14); color: tone(contrast, dark); }
}
/* pleasant placements */
.home-hero__chips li:nth-child(1){ top: 8%;  left: 6%; }
.home-hero__chips li:nth-child(2){ top: 14%; right: 6%; }
.home-hero__chips li:nth-child(3){ bottom: 8%; left: 50%; transform: translateX(-50%); }

@include mq-up($bp-lg) {
  .home-hero__chips li:nth-child(1){ top: 8%;  left: -5%; }
  .home-hero__chips li:nth-child(2){ top: 16%; right: -6%; }
  .home-hero__chips li:nth-child(3){ bottom: 10%; left: 110%; transform: none; }
}

.home-hero__copy { display: grid; gap: clamp($sp-6, 1.6vw, $sp-10); }
.home-hero__kicker { margin: 0; font-size: $fs-2; letter-spacing: .04em; text-transform: uppercase; opacity: .85; }
.home-hero__title  { margin: 0; font-weight: $fw-bold; line-height: $lh-tight; font-size: clamp($fs-7, 5.4vw, $fs-10); }
.home-hero__lead   { margin: 0; font-size: clamp($fs-3, 2.2vw, $fs-5); max-width: 60ch; opacity: .95; }
.home-hero__actions { display: flex; gap: $sp-6; flex-wrap: wrap; justify-content: center; @include mq-up($bp-lg){ justify-content: flex-start; } }
.home-hero__meta { margin: 0; display: inline-flex; gap: .6rem .8rem; flex-wrap: wrap; font-size: $fs-2; opacity: .9; }
.home-dot { opacity: .55; }

/* Buttons */
.btn { @include button-base; }
.button {
  @include theme-block      { background: tone(accent, light); color: tone(white, light); }
  @include theme-block-dark { background: tone(white, dark);  color: tone(black, dark); }
  border-color: transparent;
  &:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,.12); }
}
.button-transparent {
  @include button-base; background: transparent;
  @include theme-block      { border-color: tone(border, light); color: tone(contrast, light); }
  @include theme-block-dark { border-color: tone(border, dark);  color: tone(contrast, dark); }
  &:hover { @include theme-block{ background: tone(background-100, light); }
            @include theme-block-dark{ background: tone(background-200, dark); } }
}

/* ---------------- STATS ---------------- */
.home-stats__list {
  display: grid; grid-template-columns: repeat(3, 1fr);
  gap: clamp($sp-8, 3vw, $sp-12);
  @include theme-block      { color: tone(contrast, light); }
  @include theme-block-dark { color: tone(contrast, dark);  }
  @include mq-up($bp-md){ grid-template-columns: repeat(3, 1fr); }
  @media (max-width: $bp-md) { grid-template-columns: 1fr; text-align: center; }
}
.home-stats__list h3 { margin: 0; font-size: clamp($fs-7, 4vw, $fs-10); line-height: $lh-tight; }
.home-stats__list p  { margin: 0; opacity: .75; }

/* ---------------- PROJECTS (Swiper) ---------------- */
.home-head { margin-bottom: clamp($sp-8, 3vw, $sp-12); }
.home-title { margin: 0; font-size: clamp($fs-6, 3.2vw, $fs-9); line-height: $lh-tight; }
.home-sub   { margin: 0; opacity: .75; }

.home-swiper { overflow: visible; }
.home-swiper .swiper-wrapper { align-items: stretch; }
.home-card {
  display: grid; grid-template-rows: auto 1fr; border-radius: $radius-5; overflow: hidden; text-decoration: none;
  border: 1px solid; transition: transform $dur-1 $ease-in-out, box-shadow $dur-1 $ease-in-out;
  @include theme-block      { background: tone(surface, light); border-color: tone(border, light); }
  @include theme-block-dark { background: tone(surface, dark);  border-color: tone(border, dark); }
}
.home-card:hover { transform: translateY(-4px); box-shadow: $shadow-light; }
.home-card__media img { width: 100%; height: auto; display: block; aspect-ratio: 16 / 10; object-fit: cover; }
.home-card__body { padding: $sp-8; }
.home-card__body h3 { margin: 0 0 $sp-4; font-size: $fs-5; }
.home-card__body p  { margin: 0; opacity: .9; }

.home-swiper__nav {
  display: flex; gap: $sp-6; align-items: center; margin-top: $sp-6;
}
.home-swiper__prev, .home-swiper__next {
  min-height: $btn-height-sm; width: $btn-height-sm; height: $btn-height-sm; padding: $sp-4; border-radius: 50%;
}
.home-swiper__pagination { margin-top: $sp-6; }

/* ---------------- ARTICLES STRIPE ---------------- */
.home-articles__list {
  list-style: none; margin: 0; padding: 0;
  display: grid; gap: clamp($sp-8, 2.4vw, $sp-12);
  grid-template-columns: 1fr;
  @include mq-up($bp-lg){ grid-template-columns: repeat(2, minmax(0,1fr)); }
}
.home-article {
  display: block; padding: $sp-8; border-radius: $radius-4; border: 1px solid; text-decoration: none;
  @include theme-block      { background: tone(surface, light); border-color: tone(border, light); color: tone(contrast, light); }
  @include theme-block-dark { background: tone(surface, dark);  border-color: tone(border, dark);  color: tone(contrast, dark); }
}
.home-article h3 { margin: 0 0 $sp-3; font-size: $fs-5; }
.home-article p  { margin: 0 0 $sp-4; opacity: .9; }
.home-article small { opacity: .7; }

/* ---------------- CTA ---------------- */
.home-cta__box {
  text-align: center; display: grid; gap: $sp-6;
  padding: clamp($sp-10, 3vw, $sp-16);
  border-radius: $radius-6; border: 1px solid;
  @include theme-block      { background: tone(surface, light); border-color: tone(border, light); }
  @include theme-block-dark { background: tone(surface, dark);  border-color: tone(border, dark); }
}
.home-cta__actions { display: flex; gap: $sp-6; justify-content: center; flex-wrap: wrap; }

/* media safety */
#home :where(img,video,svg,canvas){ max-width:100%; height:auto; display:block; }

/* reduced motion */
@media (prefers-reduced-motion: reduce) {
  .home-card:hover { transform: none; box-shadow: none; }
}
