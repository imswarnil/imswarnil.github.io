// ======================================================================
// home.scss â€” airy sections, real spacing, tasteful background patterns
// Depends on: _variables.scss (tokens + mixins)
// ======================================================================

@use "variables" as *;

/* ------------------ Section rhythm & spacing ------------------ */
.home-section {
  padding-block: clamp($sp-12, 6vw, $sp-20);
}
.home-section + .home-section {
  /* consistent space between blocks */
  margin-top: clamp($sp-10, 4vw, $sp-16);
}

/* band: soft tinted backdrop using current theme surface */
.home-band {
  position: relative;
  @include theme-block      { background: tone(background-100, light); }
  @include theme-block-dark { background: tone(background-100, dark);  }
}

/* background: subtle grid lines */
.home-bg--grid {
  background-image:
    linear-gradient(to right, rgba(0,0,0,.06) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(0,0,0,.06) 1px, transparent 1px);
  background-size: 22px 22px, 22px 22px;
  background-position: 0 0, 0 0;

  html[data-color-scheme="dark"] & {
    background-image:
      linear-gradient(to right, rgba(255,255,255,.07) 1px, transparent 1px),
      linear-gradient(to bottom, rgba(255,255,255,.07) 1px, transparent 1px);
  }
}

/* background: gentle diagonal stripes */
.home-bg--stripes {
  background-image:
    repeating-linear-gradient(
      135deg,
      rgba(0,0,0,.035) 0 12px,
      transparent 12px 24px
    );
  html[data-color-scheme="dark"] & {
    background-image:
      repeating-linear-gradient(
        135deg,
        rgba(255,255,255,.035) 0 12px,
        transparent 12px 24px
      );
  }
}

/* background: dotted field */
.home-bg--dots {
  background-image:
    radial-gradient(currentColor 1px, transparent 1px);
  background-size: 18px 18px;
  opacity: .98;
  @include theme-block      { color: rgba(0,0,0,.08); }
  @include theme-block-dark { color: rgba(255,255,255,.12); }
}

/* ------------------ Island card (used selectively) ------------------ */
.home-island {
  border-radius: $radius-6;
  border: 1px solid;
  padding: clamp($sp-10, 3vw, $sp-16);
  box-shadow: $shadow-light;

  @include theme-block      { background: tone(surface, light);  border-color: tone(border, light); }
  @include theme-block-dark { background: tone(surface, dark);   border-color: tone(border, dark);  box-shadow: $shadow-dark; }
}
.home-island--mini { padding: clamp($sp-8, 2.4vw, $sp-12); }

/* ------------------ Shared headers & helpers ------------------ */
.container { @include container; }
.home-head {
  display:flex; flex-wrap:wrap; align-items:end; gap:$sp-7;
  margin-bottom: clamp($sp-7, 2.2vw, $sp-10);

  .home-title { margin:0; font-size: clamp($fs-6, 4.8vw, $fs-8); line-height:$lh-tight; }
  .home-sub   { margin:0; font-size:$fs-3; opacity:.85; }
}
.home-head--inline { justify-content: space-between; align-items: end; }
.home-link { font-size:$fs-2; }

/* split 2 cols */
.home-split-2 {
  display:grid; gap: clamp($sp-8, 3vw, $sp-12); grid-template-columns: 1fr;
  @include mq-up($bp-lg){ grid-template-columns: 1.1fr .9fr; align-items:center; }
}
.home-prose { display:grid; gap:$sp-6; }
.home-media img { width:100%; height:auto; border-radius:$radius-4; display:block; }

/* ------------------ HERO (no card slab) ------------------ */
.home-hero { /* background via .home-bg--grid */ }
.home-hero__grid {
  display:grid; grid-template-columns: 1fr; gap: clamp($sp-8, 3vw, $sp-12); align-items:center;
  @include mq-up($bp-lg){ grid-template-columns: minmax(0,.9fr) minmax(0,1.1fr); }
}
.home-hero__art {
  order:-1; margin:0; width:100%;
  max-width: clamp(280px, 62vw, 620px);
  aspect-ratio: 1 / 1;
  border-radius:$radius-6; overflow:hidden; justify-self:center;
  @include theme-block      { background: tone(background-100, light); }
  @include theme-block-dark { background: tone(background-200, dark);  }
  img { width:100%; height:100%; object-fit:cover; display:block; }
  @include mq-up($bp-lg){ order:0; justify-self:end; }
}
.home-hero__copy { display:grid; gap: clamp($sp-6, 1.6vw, $sp-10); max-width: clamp(36ch, 50vw, 56ch); min-width:0; }
.home-hero__kicker { margin:0; font-size:$fs-2; letter-spacing:.04em; text-transform:uppercase; opacity:.85; }
.home-hero__title  { margin:0; font-weight:$fw-bold; line-height:$lh-tight; font-size: clamp($fs-7, 5.6vw, $fs-10); }
.home-hero__lead   { margin:0; font-size: clamp($fs-3, 2.2vw, $fs-5); opacity:.95; }
.home-hero__actions { display:flex; flex-wrap:wrap; gap:$sp-6; }
.home-hero__meta {
  display:flex; flex-wrap:wrap; gap:.5rem .75rem; align-items:center; margin:0; font-size:$fs-2; opacity:.9;
  .home-hero__avatar { width:28px; height:28px; border-radius:50%; object-fit:cover; }
}
.home-dot { opacity:.5; }

/* Buttons */
.btn{ @include button-base; }
.button{
  @include theme-block      { background: tone(accent, light); color: tone(white, light); }
  @include theme-block-dark { background: tone(white, dark);  color: tone(black, dark); }
  &:hover{ transform:translateY(-2px); box-shadow:0 4px 12px rgba(0,0,0,.12); }
}
.button-transparent{
  @include button-base; background: transparent;
  @include theme-block      { border-color: tone(border, light); color: tone(contrast, light); }
  @include theme-block-dark { border-color: tone(border, dark);  color: tone(contrast, dark);  }
  &:hover{
    @include theme-block      { background: tone(background-100, light); }
    @include theme-block-dark { background: tone(background-200, dark); }
  }
}

/* ------------------ PORTFOLIO (cards, no big box) ------------------ */
.home-cards {
  list-style:none; margin:0; padding:0;
  display:grid; gap: clamp($sp-8, 2.4vw, $sp-12);
  grid-template-columns: 1fr;
  @include mq-up($bp-md){ grid-template-columns: repeat(2, minmax(0,1fr)); }
  @include mq-up($bp-lg){ grid-template-columns: repeat(3, minmax(0,1fr)); }
}
.home-card { list-style:none; }
.home-card__link {
  display:grid; border-radius:$radius-5; border:1px solid; overflow:hidden;
  transition:transform $dur-1 $ease-in-out, box-shadow $dur-1 $ease-in-out;
  @include theme-block      { background: tone(surface, light);  border-color: tone(border, light); }
  @include theme-block-dark { background: tone(surface, dark);   border-color: tone(border, dark); }
}
.home-card__link:hover { transform: translateY(-3px); box-shadow:$shadow-light; }
.home-card__media img { width:100%; aspect-ratio:16/10; object-fit:cover; display:block; }
.home-card__body { padding:$sp-8; display:grid; gap:$sp-4; }
.home-card__title { margin:0; font-size:$fs-5; }
.home-card__meta  { margin:0; font-size:$fs-2; opacity:.7; }

/* ------------------ VIDEO (within band) ------------------ */
.home-video__frame {
  border-radius:$radius-5; overflow:hidden; border:1px solid;
  @include theme-block      { border-color: tone(border, light); background: tone(surface, light); }
  @include theme-block-dark { border-color: tone(border, dark);  background: tone(surface, dark);  }
  iframe { aspect-ratio:16/9; width:100%; height:auto; display:block; border:0; }
}

/* ------------------ BLOG ------------------ */
.home-list{ list-style:none; margin:0; padding:0; display:grid; gap:$sp-8; }
.home-post{
  display:block; padding:$sp-8; border-radius:$radius-4; border:1px solid;
  @include theme-block      { background: tone(surface, light);  border-color: tone(border, light); }
  @include theme-block-dark { background: tone(surface, dark);   border-color: tone(border, dark); }
}
.home-post__title{ margin:0 0 $sp-3; font-size:$fs-5; }
.home-post__meta{ color: tone(secondary, light); @include theme-block-dark{ color: tone(secondary, dark); } }
.home-post__excerpt{ margin:$sp-3 0 0; }

/* ------------------ SERVICES (mini cards inside band) ------------------ */
.home-features{
  list-style:none; margin:0; padding:0;
  display:grid; gap:$sp-8; grid-template-columns:1fr;
  @include mq-up($bp-md){ grid-template-columns: repeat(3, minmax(0,1fr)); }
}
.home-features li{
  border:1px solid; border-radius:$radius-4; padding:$sp-8; display:grid; gap:$sp-4;
  @include theme-block      { background: tone(surface, light);  border-color: tone(border, light); }
  @include theme-block-dark { background: tone(surface, dark);   border-color: tone(border, dark); }
}
.home-features i{ font-style:normal; }

/* ------------------ SKILLS ------------------ */
.home-tags{ list-style:none; margin:0; padding:0; display:flex; flex-wrap:wrap; gap:$sp-6; }
.home-tags li{
  padding:.35rem .7rem; border-radius:$radius-pill; border:1px solid;
  @include theme-block      { background: tone(background-100, light); border-color: tone(border, light); }
  @include theme-block-dark { background: tone(background-100, dark);  border-color: tone(border, dark); }
}

/* ------------------ TESTIMONIALS (island) ------------------ */
.home-quotes{
  list-style:none; margin:0; padding:0;
  display:grid; gap:$sp-8; grid-template-columns:1fr;
  @include mq-up($bp-md){ grid-template-columns: repeat(2, minmax(0,1fr)); }
}
.home-quotes li{
  border:1px solid; border-radius:$radius-4; padding:$sp-8;
  @include theme-block      { background: tone(surface, light);  border-color: tone(border, light); }
  @include theme-block-dark { background: tone(surface, dark);   border-color: tone(border, dark); }
}
.home-quotes blockquote{ margin:0 0 $sp-4; font-size:$fs-4; line-height:$lh-base; }
.home-quotes cite{ font-size:$fs-2; opacity:.8; }

/* ------------------ TIMELINE ------------------ */
.home-steps{
  list-style:none; margin:0; padding:0; display:grid; gap:$sp-8; counter-reset: step;
}
.home-steps li{
  display:grid; gap:$sp-3; border-left:2px solid; padding-left:$sp-8;
  @include theme-block      { border-color: tone(border, light); }
  @include theme-block-dark { border-color: tone(border, dark);  }
}
.home-steps li span{ font-weight:$fw-semibold; }

/* ------------------ STATS (band) ------------------ */
.home-metrics{
  list-style:none; margin:0; padding:0;
  display:grid; gap:$sp-8; grid-template-columns: repeat(3, minmax(0,1fr)); text-align:center;
}
.home-metrics strong{ display:block; font-size: clamp($fs-7, 6vw, $fs-10); line-height:$lh-tight; }
.home-metrics span{ display:block; font-size:$fs-2; opacity:.75; }

/* ------------------ SPONSORS ------------------ */
.home-logos{
  list-style:none; margin:0; padding:0; display:flex; flex-wrap:wrap; gap:$sp-8; align-items:center;
}
.home-logos img{ width:auto; height:28px; opacity:.9; display:block; }

/* ------------------ NEWSLETTER ------------------ */
.home-newsletter__form{ display:flex; flex-wrap:wrap; gap:$sp-6; align-items:center; }
.home-newsletter__form input{ @include input-base; flex:1 1 260px; }
.home-newsletter__form .button{ white-space:nowrap; }

/* ------------------ HIRE (centered CTA in dotted bg) ------------------ */
.home-cta{ display:grid; gap:$sp-6; text-align:center; }
.home-cta__actions{ display:flex; gap:$sp-6; justify-content:center; flex-wrap:wrap; }

/* ------------------ FAQ ------------------ */
.home-qa{
  border:1px solid; border-radius:$radius-4; padding:$sp-6; margin-bottom:$sp-6;
  @include theme-block      { background: tone(surface, light);  border-color: tone(border, light); }
  @include theme-block-dark { background: tone(surface, dark);   border-color: tone(border, dark); }
}
.home-qa > summary{ cursor:pointer; font-weight:$fw-semibold; margin:-$sp-6; padding:$sp-6; border-radius:$radius-4; }
.home-qa > p{ margin:$sp-6 0 0; }

/* ------------------ CONTACT ------------------ */
.home-socials{ list-style:none; margin:0; padding:0; display:flex; flex-wrap:wrap; gap:$sp-6; }
.home-socials a{
  display:inline-flex; gap:.5rem; align-items:center; border:1px solid; padding:.5rem .8rem; border-radius:$radius-pill;
  @include theme-block      { border-color: tone(border, light); }
  @include theme-block-dark { border-color: tone(border, dark);  }
}

/* ------------------ BRIDGE ------------------ */
.home-bridge__card { display:flex; align-items:center; justify-content:space-between; gap:$sp-8; flex-wrap:wrap; }
.home-bridge__text { margin:0; font-size:$fs-2; opacity:.8; }

/* safety */
:where(.home-section) :where(img,video,svg,canvas){
  max-width:100%; height:auto; display:block;
}
