// ======================================================================
// home.scss â€” Responsive square hero (no container dependency)
// Depends on: _variables.scss (tokens/mixins)
// ======================================================================

@use "variables" as *;

/* Section breathing room */
.home-hero {
  padding-block: clamp($sp-12, 6vw, $sp-20);
}

/* Centers the hero and provides safe gutters without using .container */
.home-hero-wrap {
  width: $island-width;
  max-width: calc(100% - 2 * #{$container-gutter});
  margin-inline: auto;
}

/* The square itself */
.home-hero-box {
  aspect-ratio: 1 / 1;              /* FORCE a perfect square */
  display: grid;
  gap: $sp-10;
  border-radius: $radius-6;
  padding: clamp($sp-10, 2.4vw, $sp-16);
  backdrop-filter: blur(10px);
  overflow: hidden;                  /* keep media rounded inside */

  @include theme-block {
    background-color: tone(surface, light);
    border: 1px solid tone(border, light);
    box-shadow: $shadow-light;
    color: tone(foreground, light);
  }
  @include theme-block-dark {
    background-color: tone(surface, dark);
    border: 1px solid tone(border, dark);
    box-shadow: $shadow-dark;
    color: tone(foreground, dark);
  }

  /* Layout inside the square */
  grid-template-rows: auto 1fr;      /* text on top, media fills rest by default */

  @include mq-up($bp-md) {
    /* On md+, split square into two columns */
    grid-template-rows: 1fr;
    grid-template-columns: 1.05fr 0.95fr;
    align-items: center;
  }
}

/* Text column */
.home-hero-body {
  display: grid;
  gap: $sp-7;
}

.home-hero-eyebrow {
  font-size: $fs-2;
  letter-spacing: .02em;

  @include theme-block  { color: tone(secondary, light); }
  @include theme-block-dark { color: tone(secondary, dark); }
}

.home-hero-title {
  font-weight: $fw-bold;
  line-height: $lh-tight;
  font-size: clamp($fs-7, 6.4vw, $fs-10);
  margin: 0;
}

.home-hero-accent {
  @include theme-block  { color: tone(accent, light); }
  @include theme-block-dark { color: tone(accent, dark); }
}

.home-hero-sub {
  font-size: $fs-3;
  max-width: 60ch;

  @include theme-block  { color: tone(foreground, light); }
  @include theme-block-dark { color: tone(foreground, dark); }
}

.home-hero-actions {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: $sp-7;
}

/* Buttons */
.btn { @include button-base; }

.btn-primary {
  @include theme-block {
    background-color: tone(accent, light);
    color: tone(white, light);
    border-color: tone(accent, light);
  }
  @include theme-block-dark {
    background-color: tone(accent, dark);
    color: tone(black, dark);
    border-color: tone(accent, dark);
  }
  &:hover { transform: translateY(-1px); }
}

.btn-ghost {
  @include theme-block {
    background-color: transparent;
    color: tone(foreground, light);
    border-color: tone(border, light);
  }
  @include theme-block-dark {
    background-color: transparent;
    color: tone(foreground, dark);
    border-color: tone(border, dark);
  }
  &:hover {
    @include theme-block { background-color: tone(background-100, light); }
    @include theme-block-dark { background-color: tone(background-200, dark); }
  }
}

/* Media column: fills available space, keeps square feel */
.home-hero-media {
  margin: 0;

  /* On mobile, put media below text; on md+, media sits to the right */
  @include mq-up($bp-md) {
    justify-self: stretch;
    align-self: stretch;
  }

  img {
    width: 100%;
    height: 100%;
    object-fit: cover;              /* fill the area; stay cinematic */
    border-radius: $radius-5;

    @include theme-block { border: 1px solid tone(border, light); }
    @include theme-block-dark { border: 1px solid tone(border, dark); }
  }
}
