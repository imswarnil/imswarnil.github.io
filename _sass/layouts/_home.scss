@use "variables" as *;

/* ---- Fix icons being cut: let figure overflow, clip only the media ---- */
.home-hero__art {
  position: relative;
  margin: 0;
  justify-self: center;
  width: min(92%, 520px);
  aspect-ratio: 3/4;
  border-radius: $radius-6;
  overflow: visible; // <-- important: allow social islands to hang outside

  @include theme-block      { background: tone(background-100, light); border:1px solid tone(border, light); box-shadow:$shadow-light; }
  @include theme-block-dark { background: tone(background-200, dark);  border:1px solid tone(border, dark);  box-shadow:$shadow-dark;  }
}
.home-hero__art-media {
  width: 100%; height: 100%;
  border-radius: inherit;
  overflow: hidden; // keep the photo rounded
}
.home-hero__art-media img {
  width: 100%; height: 100%; object-fit: cover; display: block;
}

/* Position the social rail over the image edge */
.home-hero__social {
  position: absolute;
  list-style: none;
  margin: 0; padding: 0;
  display: flex; gap: $sp-5; z-index: 2;

  /* Mobile: bottom center of the image edge */
  left: 50%; bottom: -0.75rem; transform: translateX(-50%);
  flex-direction: row;

  li { margin: 0; }
  a {
    inline-size: 2.4rem; block-size: 2.4rem;
    display: grid; place-items: center;
    border-radius: $radius-4;
    border: 1px solid;
    text-decoration: none;
    transition: transform $dur-1 $ease-in-out, box-shadow $dur-1 $ease-in-out;

    @include theme-block      { background: tone(surface, light);  border-color: tone(border, light);  color: tone(contrast, light); box-shadow: $shadow-light; }
    @include theme-block-dark { background: tone(surface, dark);   border-color: tone(border, dark);   color: tone(contrast, dark);  box-shadow: $shadow-dark;  }

    &:hover { transform: translateY(-2px); box-shadow: 0 6px 16px rgba(0,0,0,.12); }
  }
}

/* Desktop: vertically centered on the right edge */
@include mq-up($bp-lg) {
  .home-hero__social {
    top: 50%; right: -0.9rem; bottom: auto; left: auto; transform: translateY(-50%);
    flex-direction: column;
  }

  /* Give breathing room where icons protrude */
  .home-hero__art { margin-right: 2.6rem; }
}

/* ---- EXACTLY 3 square stats that fill the row neatly ---- */
.home-hero__stats {
  margin: $sp-7 0 0;
  padding: 0; list-style: none;
  display: grid;
  grid-template-columns: repeat(3, 1fr); // always 3 across when space allows
  gap: $sp-6;
}

.stat {
  /* make the card perfectly square; content centered */
  aspect-ratio: 1 / 1;
  display: grid; place-items: center;
  border-radius: $radius-4; border: 1px solid;

  @include theme-block      { background: tone(surface, light);  border-color: tone(border, light);  box-shadow: $shadow-light; }
  @include theme-block-dark { background: tone(surface, dark);   border-color: tone(border, dark);   box-shadow: $shadow-dark;  }

  /* inner stack */
  .stat__val   { font-weight: $fw-semibold; font-size: clamp($fs-5, 3.5vw, $fs-7); line-height: $lh-tight; }
  .stat__label {
    font-size: $fs-1; letter-spacing: .02em; margin-top: .15rem;
    @include theme-block      { color: tone(secondary, light); }
    @include theme-block-dark { color: tone(secondary, dark);  }
  }
}

/* On narrow screens, keep 3 tiles but let them shrink comfortably */
@media (max-width: 420px) {
  .home-hero__stats { grid-template-columns: repeat(3, minmax(84px, 1fr)); }
}

/* If you prefer stacking at very small widths, uncomment:
@media (max-width: 360px) {
  .home-hero__stats { grid-template-columns: repeat(2, 1fr); }
}
*/

/* Keep previous hero grid & text styles you already had */
// ======================================================================
// home-bento-grid.scss â€” 4 quick-action tiles, small/equal height
// Depends on: _variables.scss
// ======================================================================


.home-bento {
  margin-block: clamp($sp-12, 6vw, $sp-16);
}

.home-bento__grid {
  margin: 0;
  padding: 0;
  list-style: none;

  display: grid;
  gap: $sp-7;

  // Mobile: 2-up
  grid-template-columns: repeat(2, minmax(0, 1fr));

  // Desktop: 4-up
  @include mq-up($bp-lg) {
    grid-template-columns: repeat(4, minmax(0, 1fr));
  }
}

.home-bento__item { min-width: 0; }

.home-bento__tile {
  position: relative;
  display: grid;
  grid-template-rows: auto auto auto;
  justify-items: start;
  align-content: center;
  gap: $sp-4;

  // Same smaller height across all cards (responsive)
  // Not using aspect-ratio so text never overflows vertically.
  min-height: clamp(110px, 22vw, 160px);
  padding: clamp($sp-7, 2.5vw, $sp-12);

  border-radius: $radius-5;
  border: 1px solid;
  text-decoration: none;
  transition:
    transform $dur-1 $ease-in-out,
    box-shadow $dur-1 $ease-in-out,
    background-color $dur-1 $ease-in-out,
    border-color $dur-1 $ease-in-out;

  @include theme-block      { background: tone(surface, light);  border-color: tone(border, light);  color: tone(contrast, light); box-shadow: $shadow-light; }
  @include theme-block-dark { background: tone(surface, dark);   border-color: tone(border, dark);   color: tone(contrast, dark);  box-shadow: $shadow-dark;  }

  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 22px rgba(0,0,0,.12);
  }

  // Icon
  i {
    font-size: clamp(1.25rem, 3.5vw, 1.5rem);
    inline-size: 2.25rem;
    block-size: 2.25rem;
    display: grid;
    place-items: center;
    border-radius: $radius-3;
    border: 1px solid;

    @include theme-block      { background: tone(background-100, light); border-color: tone(border, light); color: tone(contrast, light); }
    @include theme-block-dark { background: tone(background-200, dark);  border-color: tone(border, dark);  color: tone(contrast, dark);  }

    // Subtle icon wiggle on hover
    transition: transform $dur-1 $ease-in-out;
  }

  &:hover i { transform: translateY(-1px); }
}

.home-bento__title {
  font-size: clamp($fs-3, 2.2vw, $fs-4);
  font-weight: $fw-semibold;
  line-height: $lh-tight;
}

.home-bento__hint {
  font-size: $fs-2;
  @include theme-block      { color: tone(secondary, light); }
  @include theme-block-dark { color: tone(secondary, dark);  }
}

/* Tighten spacing on very small screens */
@media (max-width: 380px) {
  .home-bento__tile {
    padding: $sp-7;
    min-height: 120px;
  }
}
