// ======================================================================
// home.scss — Homepage hero + bento
// Depends on: _variables.scss
// ======================================================================
@use "variables" as *;

/* Section shell */
.home-hero {
  padding-block: clamp($sp-12, 6vw, $sp-16);
}

/* Grid: copy | image */
.home-hero__grid {
  display: grid;
  gap: clamp($sp-10, 3vw, $sp-16);
  grid-template-columns: 1fr;

  @include mq-up($bp-lg) {
    grid-template-columns: 1.2fr .95fr;
    align-items: center;
  }
}

/* Copy */
.home-hero__copy {
  display: grid;
  gap: clamp($sp-7, 1.6vw, $sp-12);
}

.home-hero__kicker {
  margin: 0;
  font-size: $fs-4;
  font-weight: $fw-medium;
  letter-spacing: .01em;
  display: inline-flex;
  align-items: baseline;
  gap: .25em;

  @include theme-block      { color: tone(contrast, light); }
  @include theme-block-dark { color: tone(contrast, dark);  }
}

/* blinking cursor */
.home-hero__cursor {
  width: .6ch;
  height: 1.1em;
  display: inline-block;
  translate: 0 .1em;
  border-radius: 2px;

  @include theme-block      { background: tone(contrast, light); }
  @include theme-block-dark { background: tone(contrast, dark);  }

  animation: blink 1s steps(1, end) infinite;
}
@keyframes blink { 50% { opacity: 0; } }

.home-hero__title {
  margin: 0;
  line-height: $lh-tight;
  font-weight: $fw-bold;
  font-size: clamp($fs-7, 5.6vw, $fs-10);
}

.home-hero__lead {
  margin: 0;
  max-width: 60ch;
  font-size: clamp($fs-3, 2.4vw, $fs-5);
  @include theme-block      { color: tone(foreground, light); }
  @include theme-block-dark { color: tone(foreground, dark);  }
}

.home-hero__actions {
  display: flex; flex-wrap: wrap; gap: $sp-7; align-items: center;

  .button {
    @include theme-block      { background: tone(accent, light); color: tone(white, light); }
    @include theme-block-dark { background: tone(white, dark);  color: tone(black, dark); }
    border-color: transparent;

    &:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.12);
      @include theme-block      { color: tone(white, light); }
      @include theme-block-dark { color: tone(black, dark);  }
    }
  }

  .button-transparent {
    @include button-base;
    background: transparent;

    @include theme-block      { color: tone(contrast, light); border-color: tone(border, light); }
    @include theme-block-dark { color: tone(contrast, dark);  border-color: tone(border, dark);  }

    &:hover {
      @include theme-block      { background: tone(background-100, light); }
      @include theme-block-dark { background: tone(background-200, dark);  }
    }
  }
}

.home-hero__meta {
  display: flex; flex-wrap: wrap; gap: $sp-6;
  margin: 0; padding: 0; list-style: none;
  font-size: $fs-2;

  @include theme-block      { color: tone(secondary, light); }
  @include theme-block-dark { color: tone(secondary, dark);  }
}

/* Art (image) — subtle tilt toward content side */
.home-hero__art {
  margin: 0;
  justify-self: center;
  width: min(92%, 540px);
  aspect-ratio: 3 / 4;
  border-radius: $radius-6;
  overflow: hidden;
  box-shadow: $shadow-light;
  transform: perspective(1200px) rotateY(-6deg); // tilt toward left/content
  transform-origin: center left;

  @include theme-block      { background: tone(background-100, light); border: 1px solid tone(border, light); }
  @include theme-block-dark { background: tone(background-200, dark);  border: 1px solid tone(border, dark);  box-shadow: $shadow-dark; }

  img { width: 100%; height: 100%; object-fit: cover; object-position: center; display: block; }
}

@include mq-up($bp-lg) {
  .home-hero__art { width: min(100%, 560px); }
}

/* ===== Bento Quick Links ===== */
.home-bento {
  margin-top: clamp($sp-12, 6vw, $sp-16);
  display: grid;
  gap: $sp-8;
  grid-template-columns: 1fr;

  @include mq-up($bp-md) { grid-template-columns: repeat(2, 1fr); }
  @include mq-up($bp-lg) { grid-template-columns: repeat(4, 1fr); }
}

.home-bento__card {
  position: relative;
  display: grid;
  gap: $sp-6;
  padding: $sp-10;
  border-radius: $radius-6;
  border: 1px solid;
  text-decoration: none;
  overflow: hidden;
  transition: transform $dur-1 $ease-in-out, box-shadow $dur-1 $ease-in-out;

  @include theme-block      { background: tone(surface, light); border-color: tone(border, light); box-shadow: $shadow-light; color: tone(contrast, light); }
  @include theme-block-dark { background: tone(surface, dark);  border-color: tone(border, dark);  box-shadow: $shadow-dark;  color: tone(contrast, dark);  }

  &:hover { transform: translateY(-4px); box-shadow: 0 12px 28px rgba(0,0,0,.14); }

  h3 { margin: 0 0 $sp-3 0; font-size: $fs-5; line-height: $lh-tight; }
  p  { margin: 0; font-size: $fs-3; @include theme-block { color: tone(foreground, light);} @include theme-block-dark { color: tone(foreground, dark);} }
}

.home-bento__icon { font-size: 1.4rem; }
.home-bento__body { position: relative; z-index: 2; }

.home-bento__thumb {
  position: absolute;
  inset: auto -12% -12% auto;
  width: 56%;
  opacity: .13;
  transform: rotate(-6deg);
  z-index: 1;
  pointer-events: none;
}

/* Media safety */
.home-hero :where(img,video,svg,canvas) { max-width: 100%; height: auto; display: block; }
