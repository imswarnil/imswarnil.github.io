// ======================================================================
// home.scss — asymmetric, de-boxed sections; centered hero; social chips
// Depends on: _variables.scss
// ======================================================================

@use "variables" as *;

/* global spacing between sections */
.home-hero,
.home-work,
.home-portfolio-masonry,
.home-spotlight,
.home-blog,
.home-news,
.home-cta { padding-block: clamp($sp-12, 6vw, $sp-20); }

.container { @include container; }

/* ---------------- HERO ---------------- */
.home-hero {
  /* soft radial fade (subtle, not a pattern) */
  background:
    radial-gradient(1200px 600px at 50% -10%, rgba(0,0,0,.06), transparent 60%);
  html[data-color-scheme="dark"] & {
    background:
      radial-gradient(1200px 600px at 50% -10%, rgba(255,255,255,.06), transparent 60%);
  }
}

.home-hero__wrap {
  display: grid;
  grid-template-columns: 1fr;
  gap: clamp($sp-10, 3.5vw, $sp-16);
  align-items: center;
  justify-items: center;
  text-align: center;

  @include mq-up($bp-lg) {
    grid-template-columns: .9fr 1.1fr; /* asymmetry */
    text-align: left;
    justify-items: stretch;
  }
}

/* centered square image with floating social chips */
.home-hero__art {
  position: relative;
  margin: 0;
  width: 100%;
  max-width: clamp(280px, 52vw, 520px);
  aspect-ratio: 1 / 1;
  border-radius: $radius-6;
  overflow: hidden;
  @include theme-block      { background: tone(background-100, light); }
  @include theme-block-dark { background: tone(background-200, dark);  }

  img { width: 100%; height: 100%; object-fit: cover; display: block; }
}

/* social chips arranged around the image */
.home-hero__chips {
  position: absolute; inset: 0; pointer-events: none;
  list-style: none; margin: 0; padding: 0;
}
.home-hero__chips li {
  position: absolute; pointer-events: auto;
  display: inline-flex; align-items: center; gap: .45rem;
  font-size: $fs-2; white-space: nowrap;
  padding: .4rem .7rem; border-radius: $radius-pill; border: 1px solid;
  backdrop-filter: blur(6px);

  @include theme-block      { background: rgba(255,255,255,.65); border-color: rgba(0,0,0,.12); color: tone(contrast, light); }
  @include theme-block-dark { background: rgba(20,20,22,.55);    border-color: rgba(255,255,255,.14); color: tone(contrast, dark); }
}

/* positions (mobile stacked closer) */
.home-hero__chips li:nth-child(1){ top: 6%;  left: 8%;  }
.home-hero__chips li:nth-child(2){ top: 12%; right: 6%; }
.home-hero__chips li:nth-child(3){ bottom: 8%; left: 50%; transform: translateX(-50%); }

@include mq-up($bp-lg) {
  .home-hero__chips li:nth-child(1){ top: 8%;  left: -6%; }
  .home-hero__chips li:nth-child(2){ top: 16%; right: -8%; }
  .home-hero__chips li:nth-child(3){ bottom: 10%; left: 110%; transform: none; }
}

.home-hero__copy { display: grid; gap: clamp($sp-6, 1.6vw, $sp-10); }
.home-hero__kicker { margin: 0; font-size: $fs-2; letter-spacing: .04em; text-transform: uppercase; opacity: .85; }
.home-hero__title  { margin: 0; font-weight: $fw-bold; line-height: $lh-tight; font-size: clamp($fs-7, 5.4vw, $fs-10); }
.home-hero__lead   { margin: 0; font-size: clamp($fs-3, 2.2vw, $fs-5); opacity: .95; max-width: 60ch; }
.home-hero__actions { display: flex; gap: $sp-6; flex-wrap: wrap; justify-content: center;
  @include mq-up($bp-lg){ justify-content: flex-start; }
}
.home-hero__meta { margin: 0; display: inline-flex; gap: .6rem .8rem; flex-wrap: wrap; font-size: $fs-2; opacity: .9; }
.home-dot { opacity: .55; }

/* buttons: ensure primary stays readable on hover */
.btn { @include button-base; }
.button {
  @include theme-block      { background: tone(accent, light); color: tone(white, light); }
  @include theme-block-dark { background: tone(white, dark);  color: tone(black, dark); }
  &:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,.12); }
}
.button-transparent {
  @include button-base; background: transparent;
  @include theme-block      { border-color: tone(border, light); color: tone(contrast, light); }
  @include theme-block-dark { border-color: tone(border, dark);  color: tone(contrast, dark); }
  &:hover { @include theme-block{ background: tone(background-100, light); }
            @include theme-block-dark{ background: tone(background-200, dark); } }
}

/* ---------------- WORK SUMMARY ---------------- */
.home-work .home-head { margin-bottom: clamp($sp-8, 3vw, $sp-12); }
.home-work__grid {
  display: grid; gap: clamp($sp-8, 3vw, $sp-12); grid-template-columns: 1fr;
  @include mq-up($bp-lg){ grid-template-columns: 1.1fr .9fr; align-items: start; }
}
.home-bars {
  list-style: none; margin: 0; padding: 0; display: grid; gap: $sp-6;
}
.home-bars li {
  display: grid; gap: .25rem;
}
.home-bars li span {
  display: inline-block;
  border-radius: $radius-pill;
  padding: .45rem .75rem;
  border: 1px solid;
  @include theme-block      { background: tone(background-100, light); border-color: tone(border, light); }
  @include theme-block-dark { background: tone(background-100, dark);  border-color: tone(border, dark); }
}
.home-bars li em { font-size: $fs-2; opacity: .75; }
.home-work__note { display: grid; gap: $sp-6; }

/* ---------------- PORTFOLIO MASONRY ---------------- */
.home-masonry {
  column-count: 1;
  column-gap: clamp($sp-8, 2.4vw, $sp-12);
  @include mq-up($bp-md){ column-count: 2; }
  @include mq-up($bp-lg){ column-count: 3; }
}
.home-masonry__item {
  break-inside: avoid; margin: 0 0 clamp($sp-8, 2.4vw, $sp-12);
  border-radius: $radius-5; overflow: hidden; border: 1px solid;
  transition: transform $dur-1 $ease-in-out, box-shadow $dur-1 $ease-in-out;

  @include theme-block      { background: tone(surface, light); border-color: tone(border, light); }
  @include theme-block-dark { background: tone(surface, dark);  border-color: tone(border, dark); }
}
.home-masonry__item:hover { transform: translateY(-3px); box-shadow: $shadow-light; }
.home-masonry__item img { width: 100%; height: auto; display: block; }
.home-masonry__item h3 { margin: $sp-6; font-size: $fs-4; }

/* ---------------- CASE SPOTLIGHT ---------------- */
.home-spotlight__wrap {
  position: relative; display: grid; gap: $sp-8;
  @include theme-block      { background: linear-gradient(180deg, tone(surface, light), transparent); }
  @include theme-block-dark { background: linear-gradient(180deg, tone(surface, dark), transparent); }
  border-radius: $radius-6; overflow: hidden; border: 1px solid;
  @include theme-block      { border-color: tone(border, light); }
  @include theme-block-dark { border-color: tone(border, dark);  }
  padding: clamp($sp-10, 3vw, $sp-16);
}
.home-spotlight__media img { width: 100%; display: block; aspect-ratio: 16/9; object-fit: cover; border-radius: $radius-4; }
.home-spotlight__copy { display: grid; gap: $sp-6; }

/* ---------------- BLOG ---------------- */
.home-blog__list { list-style: none; margin: 0; padding: 0; display: grid; gap: $sp-8; }
.home-blog__card {
  display: block; padding: $sp-8; border-radius: $radius-4; border: 1px solid;
  @include theme-block      { background: tone(surface, light); border-color: tone(border, light); }
  @include theme-block-dark { background: tone(surface, dark);  border-color: tone(border, dark); }
}
.home-blog__card h3 { margin: 0 0 $sp-3; font-size: $fs-5; }
.home-blog__card p  { margin: 0 0 $sp-4; }
.home-blog__card small { opacity: .7; }

/* ---------------- NEWSLETTER — ribbon ---------------- */
.home-news__ribbon {
  border-radius: $radius-6; padding: clamp($sp-10, 3vw, $sp-16);
  border: 1px dashed;
  @include theme-block      { background: tone(background-100, light); border-color: tone(border, light); }
  @include theme-block-dark { background: tone(background-100, dark);  border-color: tone(border, dark); }
  display: grid; gap: $sp-6;
}
.home-news__form { display: flex; flex-wrap: wrap; gap: $sp-6; }
.home-news__form input { @include input-base; flex: 1 1 260px; }
.home-news__form .button { white-space: nowrap; }

/* ---------------- CTA ---------------- */
.home-cta__box {
  text-align: center; display: grid; gap: $sp-6;
  padding: clamp($sp-10, 3vw, $sp-16);
  border-radius: $radius-6; border: 1px solid;
  @include theme-block      { background: tone(surface, light); border-color: tone(border, light); }
  @include theme-block-dark { background: tone(surface, dark);  border-color: tone(border, dark); }
}
.home-cta__actions { display: flex; gap: $sp-6; justify-content: center; flex-wrap: wrap; }

/* media safety */
:where(.home-hero, .home-work, .home-portfolio-masonry, .home-spotlight, .home-blog, .home-news, .home-cta) :where(img,video,svg,canvas){
  max-width:100%; height:auto; display:block;
}
