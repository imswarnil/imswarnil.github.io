@use "variables" as *;

/* ===== HERO ===== */
.home-hero { padding-block: clamp($sp-10, 4.5vw, $sp-14); }

.home-hero__grid{
  display:grid; gap:clamp($sp-8, 3vw, $sp-12);
  grid-template-columns: 1fr;
  align-items:center;
  @include mq-up($bp-lg){ grid-template-columns: 1.05fr .95fr; }
}

/* Mobile: image first */
@media (max-width: $bp-lg){ .home-hero__art-wrap{ order:-1; } }

/* Copy */
.home-hero__copy{ display:grid; gap:$sp-6; }
.home-hero__hello{ margin:0; display:flex; align-items:center; gap:$sp-5; font-size:$fs-4; font-weight:$fw-medium;
  i{ transform-origin:60% 60%; animation: wave 1.6s ease-in-out infinite; }
}
@keyframes wave{0%,100%{transform:rotate(0)}20%{rotate:16deg}40%{rotate:-10deg}60%{rotate:12deg}80%{rotate:-6deg}}
.home-hero__name{ margin:0; font-weight:$fw-bold; line-height:$lh-tight; font-size:clamp($fs-7, 6vw, $fs-10); }
.home-hero__sub{ margin:0; font-size:clamp($fs-4, 2.4vw, $fs-6); opacity:.94; }
.home-hero__bio{ margin:0; max-width:60ch; font-size:$fs-3;
  @include theme-block{ color:tone(foreground, light); }
  @include theme-block-dark{ color:tone(foreground, dark); }
}
.home-hero__cta{ display:flex; flex-wrap:wrap; gap:$sp-6; align-items:center;
  .button{
    @include theme-block{ color:tone(white, light); }
    @include theme-block-dark{ color:tone(black, dark); }
    &:hover{
      @include theme-block{ color:tone(white, light); }
      @include theme-block-dark{ color:tone(black, dark); }
    }
  }
}
.home-hero__meta{ display:grid; gap:$sp-3; margin-top:$sp-2; }
.home-hero__meta-row{
  display:flex; align-items:center; gap:$sp-5; font-size:$fs-2;
  @include theme-block{ color:tone(secondary, light); }
  @include theme-block-dark{ color:tone(secondary, dark); }
}

/* Pill stats (no tall tiles) */
.home-hero__stats{
  display:flex; flex-wrap:wrap; gap:$sp-6; margin-top:$sp-7; padding:0; list-style:none;
}
.pill{
  display:inline-flex; align-items:center; gap:$sp-5;
  padding:.4rem .7rem; border-radius:$radius-pill; border:1px solid;
  @include theme-block{ background:tone(surface, light); border-color:tone(border, light); box-shadow:$shadow-light; }
  @include theme-block-dark{ background:tone(surface, dark); border-color:tone(border, dark); box-shadow:$shadow-dark; }
  .pill__val{ font-weight:$fw-semibold; font-size:$fs-3; line-height:$lh-tight; }
  .pill__label{ font-size:$fs-1; opacity:.9; }
}

/* Art + socials */
.home-hero__art-wrap{ position:relative; overflow:visible; }
.home-hero__art{
  margin:0; width:min(96%, 520px); aspect-ratio:3/4; border-radius:$radius-6; overflow:hidden; border:1px solid;
  @include theme-block{ background:tone(background-100, light); border-color:tone(border, light); box-shadow:$shadow-light; }
  @include theme-block-dark{ background:tone(background-200, dark); border-color:tone(border, dark); box-shadow:$shadow-dark; }
  img{ width:100%; height:100%; object-fit:cover; object-position:center; display:block; }
}
@media (min-width:$bp-lg){
  .home-hero__art{ transform:perspective(1200px) rotateY(-3.5deg); transform-origin:center left; }
  .home-hero__art:hover{ transform:perspective(1200px) rotateY(-3deg) translateY(-2px); }
}
@media (max-width:$bp-lg){ .home-hero__art{ transform:none; } }

/* Social rail INSIDE the image (no overflow risk) */
.home-hero__social{
  position:absolute; list-style:none; margin:0; padding:0; display:flex; gap:$sp-5;
  /* mobile: bottom center, inside by $sp-5 */
  left:50%; bottom:$sp-5; transform:translateX(-50%);
  li{ margin:0; }
  a{
    inline-size:2.2rem; block-size:2.2rem; display:grid; place-items:center;
    border-radius:$radius-4; text-decoration:none; border:1px solid;
    @include theme-block{ background:tone(surface, light); border-color:tone(border, light); color:tone(contrast, light); box-shadow:$shadow-light; }
    @include theme-block-dark{ background:tone(surface, dark); border-color:tone(border, dark); color:tone(contrast, dark); box-shadow:$shadow-dark; }
    transition: transform $dur-1 $ease-in-out, box-shadow $dur-1 $ease-in-out;
    &:hover{ transform:translateY(-2px); box-shadow:0 6px 16px rgba(0,0,0,.12); }
  }
}
@media (min-width:$bp-lg){
  .home-hero__social{
    top:50%; bottom:auto; left:auto; right:$sp-5; transform:translateY(-50%); /* inside the right edge */
    flex-direction:column;
  }
}

/* ===== BENTO (no horizontal scroll, compact) ===== */
.home-bento{ margin-block: clamp($sp-12, 6vw, $sp-16); }
.home-bento__grid{
  margin:0; padding:0; list-style:none;
  display:grid; gap:$sp-7;
  /* Mobile-first: single column; grows without overflow */
  grid-template-columns: 1fr;
  @include mq-up($bp-sm){ grid-template-columns: repeat(2, minmax(0,1fr)); }
  @include mq-up($bp-lg){ grid-template-columns: repeat(4, minmax(0,1fr)); }
}
.home-bento__item{ min-width:0; }
.home-bento__tile{
  position:relative; display:grid; gap:$sp-5;
  min-height: clamp(110px, 20vw, 140px); /* smaller */
  padding: clamp($sp-8, 2.2vw, $sp-10);
  border-radius:$radius-5; border:1px solid; text-decoration:none;
  @include theme-block{ background:tone(surface, light); border-color:tone(border, light); color:tone(contrast, light); box-shadow:$shadow-light; }
  @include theme-block-dark{ background:tone(surface, dark); border-color:tone(border, dark); color:tone(contrast, dark); box-shadow:$shadow-dark; }
  transition: transform $dur-1 $ease-in-out, box-shadow $dur-1 $ease-in-out;
  &:hover{ transform: translateY(-2px); box-shadow:0 12px 28px rgba(0,0,0,.14); } /* no perspective; safer for layout */
}

/* GitHub style */
.home-bento__tile--github{
  .gh-head{ display:flex; align-items:center; gap:$sp-5; font-weight:$fw-semibold; }
  .gh-repo{ font-size:$fs-4; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
  .gh-meta{ display:flex; align-items:center; gap:$sp-6; font-size:$fs-2; opacity:.9; flex-wrap:wrap; }
  .dot{ inline-size:.5rem; block-size:.5rem; border-radius:50%; background:currentColor; }
  .spacer{ inline-size:1px; block-size:1rem; background:currentColor; opacity:.2; }
}

/* YouTube style */
.home-bento__tile--video{
  .yt-frame{ border-radius:$radius-4; overflow:hidden; border:1px solid;
    @include theme-block{ border-color:tone(border, light); background:tone(background-100, light); }
    @include theme-block-dark{ border-color:tone(border, dark); background:tone(background-200, dark); }
  }
  .yt-thumb{ aspect-ratio:16/9; background:linear-gradient(180deg, rgba(0,0,0,.08), rgba(0,0,0,.18)); }
  .yt-title{ font-weight:$fw-medium; }
}

/* Blog style */
.home-bento__tile--blog{
  .blog-title{ font-weight:$fw-semibold; }
  .blog-excerpt{
    margin:0; font-size:$fs-2;
    @include theme-block{ color:tone(secondary, light); }
    @include theme-block-dark{ color:tone(secondary, dark); }
  }
}

/* Resume style */
.home-bento__tile--resume{
  .cv-line{ font-weight:$fw-semibold; }
}

/* Safety: never overflow horizontally */
.home-hero, .home-bento{
  overflow-x: clip; /* belt-and-suspenders */
}
