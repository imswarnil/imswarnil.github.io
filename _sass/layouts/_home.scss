@use "variables" as *;

/* ---- Fix icons being cut: let figure overflow, clip only the media ---- */
.home-hero__art {
  position: relative;
  margin: 0;
  justify-self: center;
  width: min(92%, 520px);
  aspect-ratio: 3/4;
  border-radius: $radius-6;
  overflow: visible; // <-- important: allow social islands to hang outside

  @include theme-block      { background: tone(background-100, light); border:1px solid tone(border, light); box-shadow:$shadow-light; }
  @include theme-block-dark { background: tone(background-200, dark);  border:1px solid tone(border, dark);  box-shadow:$shadow-dark;  }
}
.home-hero__art-media {
  width: 100%; height: 100%;
  border-radius: inherit;
  overflow: hidden; // keep the photo rounded
}
.home-hero__art-media img {
  width: 100%; height: 100%; object-fit: cover; display: block;
}

/* Position the social rail over the image edge */
.home-hero__social {
  position: absolute;
  list-style: none;
  margin: 0; padding: 0;
  display: flex; gap: $sp-5; z-index: 2;

  /* Mobile: bottom center of the image edge */
  left: 50%; bottom: -0.75rem; transform: translateX(-50%);
  flex-direction: row;

  li { margin: 0; }
  a {
    inline-size: 2.4rem; block-size: 2.4rem;
    display: grid; place-items: center;
    border-radius: $radius-4;
    border: 1px solid;
    text-decoration: none;
    transition: transform $dur-1 $ease-in-out, box-shadow $dur-1 $ease-in-out;

    @include theme-block      { background: tone(surface, light);  border-color: tone(border, light);  color: tone(contrast, light); box-shadow: $shadow-light; }
    @include theme-block-dark { background: tone(surface, dark);   border-color: tone(border, dark);   color: tone(contrast, dark);  box-shadow: $shadow-dark;  }

    &:hover { transform: translateY(-2px); box-shadow: 0 6px 16px rgba(0,0,0,.12); }
  }
}

/* Desktop: vertically centered on the right edge */
@include mq-up($bp-lg) {
  .home-hero__social {
    top: 50%; right: -0.9rem; bottom: auto; left: auto; transform: translateY(-50%);
    flex-direction: column;
  }

  /* Give breathing room where icons protrude */
  .home-hero__art { margin-right: 2.6rem; }
}

/* ---- EXACTLY 3 square stats that fill the row neatly ---- */
.home-hero__stats {
  margin: $sp-7 0 0;
  padding: 0; list-style: none;
  display: grid;
  grid-template-columns: repeat(3, 1fr); // always 3 across when space allows
  gap: $sp-6;
}

.stat {
  /* make the card perfectly square; content centered */
  aspect-ratio: 1 / 1;
  display: grid; place-items: center;
  border-radius: $radius-4; border: 1px solid;

  @include theme-block      { background: tone(surface, light);  border-color: tone(border, light);  box-shadow: $shadow-light; }
  @include theme-block-dark { background: tone(surface, dark);   border-color: tone(border, dark);   box-shadow: $shadow-dark;  }

  /* inner stack */
  .stat__val   { font-weight: $fw-semibold; font-size: clamp($fs-5, 3.5vw, $fs-7); line-height: $lh-tight; }
  .stat__label {
    font-size: $fs-1; letter-spacing: .02em; margin-top: .15rem;
    @include theme-block      { color: tone(secondary, light); }
    @include theme-block-dark { color: tone(secondary, dark);  }
  }
}

/* On narrow screens, keep 3 tiles but let them shrink comfortably */
@media (max-width: 420px) {
  .home-hero__stats { grid-template-columns: repeat(3, minmax(84px, 1fr)); }
}

/* If you prefer stacking at very small widths, uncomment:
@media (max-width: 360px) {
  .home-hero__stats { grid-template-columns: repeat(2, 1fr); }
}
*/

/* Keep previous hero grid & text styles you already had */
