@use "variables" as *;

/* =========================================
   HERO
========================================= */
.home-hero { padding-block: clamp($sp-10, 4.5vw, $sp-14); overflow-x: clip; }

.home-hero__grid{
  display:grid; gap:clamp($sp-8, 3vw, $sp-12);
  grid-template-columns:1fr;
  align-items:center;
  @include mq-up($bp-lg){ grid-template-columns: 1.05fr .95fr; }
}

/* Make art first on mobile and perfectly centered */
@media (max-width: $bp-lg){
  .home-hero__art-wrap{ order:-1; }
}

.home-hero__copy{ display:grid; gap:$sp-6; min-width:0; }
.home-hero__hello{ margin:0; display:flex; align-items:center; gap:$sp-5; font-size:$fs-4; font-weight:$fw-medium;
  i{ transform-origin:60% 60%; animation: wave 1.6s ease-in-out infinite; }
}
@keyframes wave{0%,100%{transform:rotate(0)}20%{rotate:16deg}40%{rotate:-10deg}60%{rotate:12deg}80%{rotate:-6deg}}
.home-hero__name{ margin:0; font-weight:$fw-bold; line-height:$lh-tight; font-size:clamp($fs-7, 6vw, $fs-10); }
.home-hero__sub{ margin:0; font-size:clamp($fs-4, 2.4vw, $fs-6); opacity:.94; }
.home-hero__bio{ margin:0; max-width:60ch; font-size:$fs-3;
  @include theme-block{ color:tone(foreground, light); }
  @include theme-block-dark{ color:tone(foreground, dark); }
}

.home-hero__cta{ display:flex; flex-wrap:wrap; gap:$sp-6; align-items:center;
  .button{
    @include theme-block{ color:tone(white, light); }
    @include theme-block-dark{ color:tone(black, dark); }
    &:hover{
      @include theme-block{ color:tone(white, light); }
      @include theme-block-dark{ color:tone(black, dark); }
    }
  }
}
.home-hero__meta{ display:grid; gap:$sp-3; margin-top:$sp-2; }
.home-hero__meta-row{
  display:flex; align-items:center; gap:$sp-5; font-size:$fs-2;
  @include theme-block{ color:tone(secondary, light); }
  @include theme-block-dark{ color:tone(secondary, dark); }
}

/* Pill stats */
.home-hero__stats{
  display:flex; flex-wrap:wrap; gap:$sp-6; margin-top:$sp-7; padding:0; list-style:none;
}
.pill{
  display:inline-flex; align-items:center; gap:$sp-5;
  padding:.38rem .7rem; border-radius:$radius-pill; border:1px solid;
  @include theme-block{ background:tone(surface, light); border-color:tone(border, light); box-shadow:$shadow-light; }
  @include theme-block-dark{ background:tone(surface, dark); border-color:tone(border, dark); box-shadow:$shadow-dark; }
  .pill__val{ font-weight:$fw-semibold; font-size:$fs-3; line-height:$lh-tight; }
  .pill__label{ font-size:$fs-1; opacity:.9; }
}

/* Art: SQUARE, centered, no overflow */
.home-hero__art-wrap{ position:relative; }
.home-hero__art{
  margin:0; width:min(96%, 520px);
  aspect-ratio:1/1; /* square */
  border-radius:$radius-6; overflow:hidden; border:1px solid;
  justify-self:center; /* centers within grid cell */
  @include theme-block{ background:tone(background-100, light); border-color:tone(border, light); box-shadow:$shadow-light; }
  @include theme-block-dark{ background:tone(background-200, dark); border-color:tone(border, dark); box-shadow:$shadow-dark; }
  img{ width:100%; height:100%; object-fit:cover; object-position:center; display:block; }
}
@media (min-width:$bp-lg){
  .home-hero__art{
    transform:perspective(1200px) rotateY(-3.25deg);
    transform-origin:center left;
  }
  .home-hero__art:hover{ transform:perspective(1200px) rotateY(-2.5deg) translateY(-2px); }
}
@media (max-width:$bp-lg){ .home-hero__art{ transform:none; } }

/* Social rail half in/out */
.home-hero__social{
  position:absolute; margin:0; padding:0; list-style:none; display:flex; gap:$sp-5;
  /* mobile: bottom center, half outside */
  left:50%; bottom:-0.75rem; transform:translateX(-50%);
  li{ margin:0; }
  a{
    inline-size:2.2rem; block-size:2.2rem; display:grid; place-items:center;
    border-radius:$radius-4; text-decoration:none; border:1px solid;
    @include theme-block{ background:tone(surface, light); border-color:tone(border, light); color:tone(contrast, light); box-shadow:$shadow-light; }
    @include theme-block-dark{ background:tone(surface, dark); border-color:tone(border, dark); color:tone(contrast, dark); box-shadow:$shadow-dark; }
    transition: transform $dur-1 $ease-in-out, box-shadow $dur-1 $ease-in-out;
    &:hover{ transform:translateY(-2px); box-shadow:0 6px 16px rgba(0,0,0,.12); }
  }
}
@media (min-width:$bp-lg){
  .home-hero__social{
    top:50%; bottom:auto; left:auto; right:-0.75rem; transform:translateY(-50%); /* half outside on the right */
    flex-direction:column;
  }
}

/* =========================================
   BENTO
========================================= */
.home-bento{ margin-block: clamp($sp-12, 6vw, $sp-16); overflow-x: clip; }
.home-bento__grid{
  margin:0; padding:0; list-style:none;
  display:grid; gap:$sp-7;
  grid-template-columns: repeat(2, minmax(0,1fr)); /* two-up on mobile */
  @include mq-up($bp-lg){ grid-template-columns: repeat(4, minmax(0,1fr)); }
}
.home-bento__item{ min-width:0; }

.home-bento__tile{
  position:relative; display:grid; gap:$sp-5;
  min-height: clamp(110px, 20vw, 140px);
  padding: clamp($sp-8, 2.2vw, $sp-10);
  border-radius:$radius-5; border:1px solid; text-decoration:none;
  @include theme-block{ background:tone(surface, light); border-color:tone(border, light); color:tone(contrast, light); box-shadow:$shadow-light; }
  @include theme-block-dark{ background:tone(surface, dark); border-color:tone(border, dark); color:tone(contrast, dark); box-shadow:$shadow-dark; }
  transition: transform $dur-1 $ease-in-out, box-shadow $dur-1 $ease-in-out;
  will-change: transform;
  &:hover{ transform: perspective(900px) rotateX(1.25deg) rotateY(2deg) translateY(-2px); box-shadow:0 12px 28px rgba(0,0,0,.14); }
}

/* Corner icon perched on the border */
.home-bento__icon{
  position:absolute; top:-.6rem; left:-.6rem;
  inline-size:2.2rem; block-size:2.2rem; display:grid; place-items:center;
  border-radius:$radius-4; border:1px solid;
  @include theme-block{ background:tone(surface, light); border-color:tone(border, light); box-shadow:$shadow-light; }
  @include theme-block-dark{ background:tone(surface, dark); border-color:tone(border, dark); box-shadow:$shadow-dark; }
}

/* GitHub-like */
.home-bento__tile--github{
  .gh-head{ display:flex; align-items:center; gap:$sp-5; font-weight:$fw-semibold; }
  .gh-repo{ font-size:$fs-4; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
  .gh-meta{ display:flex; align-items:center; gap:$sp-6; font-size:$fs-2; opacity:.9; flex-wrap:wrap; }
  .dot{ inline-size:.5rem; block-size:.5rem; border-radius:50%; background:currentColor; }
  .spacer{ inline-size:1px; block-size:1rem; background:currentColor; opacity:.2; }
}

/* YouTube-like */
.home-bento__tile--video{
  .yt-frame{ border-radius:$radius-4; overflow:hidden; border:1px solid;
    @include theme-block{ border-color:tone(border, light); background:tone(background-100, light); }
    @include theme-block-dark{ border-color:tone(border, dark); background:tone(background-200, dark); }
  }
  .yt-thumb{ aspect-ratio:16/9; background:linear-gradient(180deg, rgba(0,0,0,.08), rgba(0,0,0,.18)); }
  .yt-title{ font-weight:$fw-medium; }
}

/* Blog */
.home-bento__tile--blog{
  .blog-title{ font-weight:$fw-semibold; }
  .blog-excerpt{
    margin:0; font-size:$fs-2;
    @include theme-block{ color:tone(secondary, light); }
    @include theme-block-dark{ color:tone(secondary, dark); }
  }
}

/* Resume */
.home-bento__tile--resume{
  .cv-line{ font-weight:$fw-semibold; }
}

/* =========================================
   MY CONTENT
========================================= */
.home-content{ margin-block: clamp($sp-12, 6vw, $sp-16); }
.home-content__head{
  display:flex; align-items:center; gap:$sp-7; justify-content:space-between; margin-bottom:$sp-8;
  h2{ margin:0; font-size:$fs-7; line-height:$lh-tight; }
}
.home-content__featured{
  display:flex; flex-wrap:wrap; align-items:center; justify-content:space-between; gap:$sp-7;
  border:1px solid; border-radius:$radius-6; padding:clamp($sp-10, 2.6vw, $sp-12);
  @include theme-block{ background:tone(surface, light); border-color:tone(border, light); box-shadow:$shadow-light; }
  @include theme-block-dark{ background:tone(surface, dark); border-color:tone(border, dark); box-shadow:$shadow-dark; }
  .feat-copy{ max-width:60ch; }
}
.home-content__all{ white-space:nowrap; }

.home-content__groups{ display:grid; gap:$sp-12; margin-top:$sp-12; }
.group-title{ margin:0 0 $sp-6 0; font-size:$fs-5; }
.group-list{
  margin:0; padding:0; list-style:none;
  display:grid; gap:$sp-7;
  grid-template-columns: repeat(2, minmax(0,1fr));
  @include mq-up($bp-lg){ grid-template-columns: repeat(4, minmax(0,1fr)); }
}
.group-card{
  display:grid; gap:.35rem; padding:$sp-8; border:1px solid; border-radius:$radius-5; text-decoration:none;
  @include theme-block{ background:tone(surface, light); border-color:tone(border, light); color:tone(contrast, light); }
  @include theme-block-dark{ background:tone(surface, dark); border-color:tone(border, dark); color:tone(contrast, dark); }
  .g-title{ margin:0; font-weight:$fw-semibold; line-height:$lh-tight; }
  .g-excerpt{ margin:0; font-size:$fs-2; opacity:.9; }
  .g-meta{ opacity:.7; }
}

/* =========================================
   PORTFOLIO
========================================= */
.home-portfolio{ margin-block: clamp($sp-12, 6vw, $sp-16); }
.home-portfolio__title{ margin:0 0 $sp-8 0; font-size:$fs-7; line-height:$lh-tight; }
.home-portfolio__grid{
  margin:0; padding:0; list-style:none;
  display:grid; gap:$sp-8;
  grid-template-columns: repeat(2, minmax(0,1fr));
  @include mq-up($bp-lg){ grid-template-columns: repeat(3, minmax(0,1fr)); }
}
.home-portfolio__tile{
  display:grid; gap:$sp-7; border:1px solid; border-radius:$radius-6; overflow:hidden; text-decoration:none;
  @include theme-block{ background:tone(surface, light); border-color:tone(border, light); color:tone(contrast, light); box-shadow:$shadow-light; }
  @include theme-block-dark{ background:tone(surface, dark); border-color:tone(border, dark); color:tone(contrast, dark); box-shadow:$shadow-dark; }
  transition: transform $dur-1 $ease-in-out, box-shadow $dur-1 $ease-in-out;
  &:hover{ transform: translateY(-2px); box-shadow:0 12px 28px rgba(0,0,0,.14); }
}
.hp-cover{
  aspect-ratio: 16/9; background: var(--cover, #ddd);
  background-image: var(--bg); background-size: cover; background-position: center;
}
.hp-copy{ padding: $sp-8; }
.hp-title{ margin:0 0 .15rem 0; font-weight:$fw-semibold; }
.hp-meta{ margin:0 0 .35rem 0; opacity:.75; font-size:$fs-2; }
.hp-desc{ margin:0; font-size:$fs-3; }

/* Safety: never overflow horizontally */
.home-hero, .home-bento, .home-content, .home-portfolio{ overflow-x: clip; }
