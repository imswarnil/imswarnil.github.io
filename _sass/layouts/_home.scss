// ======================================================================
// home.scss — Container-wrapped, two-column hero (mobile-perfect)
// Depends on: _variables.scss + layout.scss (for .container)
// ======================================================================


.home-hero {
  position: relative;
  padding-block: clamp($sp-12, 6vw, $sp-20);
  overflow: clip; // prevents floating pills from causing page scroll

  // subtle animated background pattern
  &::before {
    content: "";
    position: absolute; inset: 0;
    background:
      radial-gradient(18px 18px at 12% 14%, rgba(0,0,0,.06), transparent 55%) repeat,
      radial-gradient(22px 22px at 82% 26%, rgba(0,0,0,.05), transparent 60%) repeat,
      repeating-linear-gradient(135deg, rgba(0,0,0,.04) 0 10px, transparent 10px 20px);
    opacity: .5;
    animation: hh-bg 22s $ease-in-out infinite alternate;
    z-index: 0;
    pointer-events: none;

    @include theme-block-dark {
      background:
        radial-gradient(18px 18px at 12% 14%, rgba(255,255,255,.05), transparent 55%) repeat,
        radial-gradient(22px 22px at 82% 26%, rgba(255,255,255,.04), transparent 60%) repeat,
        repeating-linear-gradient(135deg, rgba(255,255,255,.04) 0 10px, transparent 10px 20px);
    }
  }
}

@keyframes hh-bg {
  0% { transform: translateY(-6px) }
  100% { transform: translateY(6px) }
}

/* The hero “card”: mobile stacks, desktop = 2 columns with equal height */
.home-hero-card {
  position: relative;
  z-index: 1; // above bg
  display: grid;
  gap: $sp-12;

  // Mobile: stack (image first)
  grid-template-columns: 1fr;

  border-radius: $radius-6;
  padding: clamp($sp-10, 2.4vw, $sp-16);
  backdrop-filter: blur(10px);

  @include theme-block {
    background-color: tone(surface, light);
    border: 1px solid tone(border, light);
    box-shadow: $shadow-light;
    color: tone(foreground, light);
  }
  @include theme-block-dark {
    background-color: tone(surface, dark);
    border: 1px solid tone(border, dark);
    box-shadow: $shadow-dark;
    color: tone(foreground, dark);
  }

  // Desktop: 2 columns with equal heights
  @include mq-up($bp-md) {
    grid-template-columns: minmax(10rem, 14rem) 1fr;
    align-items: stretch; // equal height
    gap: $sp-14;
  }
}

/* Square image */
.home-hero-photo {
  position: relative;
  width: 100%;
  aspect-ratio: 1 / 1;  // square
  border-radius: $radius-6;
  overflow: hidden;
  align-self: stretch;

  img {
    width: 100%; height: 100%;
    object-fit: cover; display: block;
  }

  .home-hero-signature {
    position: absolute;
    bottom: -$sp-8; left: 50%;
    transform: translateX(-50%);
    font-family: "Brush Script MT", "Segoe Script", "Lucida Handwriting", cursive;
    font-size: $fs-6; opacity: .85; white-space: nowrap;

    @include theme-block { color: tone(contrast, light); text-shadow: 0 1px 0 rgba(255,255,255,.4); }
    @include theme-block-dark { color: tone(contrast, dark); text-shadow: 0 1px 0 rgba(0,0,0,.5); }
  }
}

/* Details (right column on desktop) */
.home-hero-details {
  display: grid;
  gap: $sp-7;
  min-width: 0;
  align-self: stretch;
}

.home-hero-name {
  margin: 0;
  font-weight: $fw-bold;
  line-height: $lh-tight;
  font-size: clamp($fs-6, 5.2vw, $fs-9);
}

.home-hero-role {
  margin: 0; font-size: $fs-3;

  @include theme-block { color: tone(foreground, light); }
  @include theme-block-dark { color: tone(foreground, dark); }

  .job { font-weight: $fw-semibold; }
  .company { font-weight: $fw-semibold; }
  .dot { margin-inline: $sp-6; opacity: .6; }
}

.home-hero-meta {
  margin: 0;
  display: inline-flex; gap: $sp-5; align-items: center;
  font-size: $fs-2;

  @include theme-block { color: tone(secondary, light); }
  @include theme-block-dark { color: tone(secondary, dark); }
}

.home-hero-bio {
  margin: 0; font-size: $fs-3; max-width: 58ch;

  @include theme-block { color: tone(foreground, light); }
  @include theme-block-dark { color: tone(foreground, dark); }
}

/* Actions */
.home-hero-actions { display: flex; flex-wrap: wrap; gap: $sp-7; align-items: center; }
.btn { @include button-base; }
.btn-primary {
  @include theme-block   { background-color: tone(accent, light); color: tone(white, light); border-color: tone(accent, light); }
  @include theme-block-dark { background-color: tone(accent, dark);  color: tone(black, dark); border-color: tone(accent, dark); }
  &:hover { transform: translateY(-1px); }
}
.btn-ghost {
  @include theme-block   { background-color: transparent; color: tone(foreground, light); border-color: tone(border, light); }
  @include theme-block-dark { background-color: transparent; color: tone(foreground, dark); border-color: tone(border, dark); }
  &:hover {
    @include theme-block { background-color: tone(background-100, light); }
    @include theme-block-dark { background-color: tone(background-200, dark); }
  }
}

/* Floating badges OUTSIDE the image */
.home-hero-badges {
  position: relative;
  // Overlay relative to image block area:
  @include mq-up($bp-md) {
    grid-column: 1; grid-row: 1; // sit in the image column (outside the square)
  }
}

/* Pill style */
.home-hero-tag {
  position: absolute;
  display: inline-flex; align-items: center; gap: $sp-4;
  padding: $sp-4 $sp-6; font-size: $fs-2; line-height: 1;
  border-radius: $radius-pill; white-space: nowrap;
  pointer-events: auto;
  transform: translate(-50%, -50%);
  animation: floatY 5.2s $ease-in-out infinite alternate;

  @include theme-block {
    color: tone(contrast, light);
    background-color: rgba(255,255,255,.7);
    border: 1px solid tone(border, light);
    box-shadow: $shadow-light;
  }
  @include theme-block-dark {
    color: tone(contrast, dark);
    background-color: rgba(0,0,0,.42);
    border: 1px solid tone(border, dark);
    box-shadow: $shadow-dark;
  }
}

/* Positions relative to the photo area */
.t1 { top: -8%;  left: 12%; animation-delay: -.2s; }
.t2 { top: 10%;  left: -10%; animation-delay: -.6s; }
.t3 { top: 50%;  left: -12%; animation-delay: -.9s; }
.t4 { bottom: -8%; left: 20%; animation-delay: -1.2s; }
.t5 { top: -6%;  right: -10%; animation-delay: -.4s; }
.t6 { bottom: 14%; right: -12%; animation-delay: -.8s; }

@keyframes floatY {
  from { transform: translate(-50%, -50%) translateY(-4px); }
  to   { transform: translate(-50%, -50%) translateY(4px); }
}

/* Mobile badge simplification and perfect alignment */
@media (max-width: $bp-md) {
  .home-hero-card { gap: $sp-10; }
  .home-hero-badges {
    // keep four closest tags only for clarity on small screens
    .t5, .t6 { display: none; }
  }
}
