
/* CSS vars that need clamp/vw live here (no Sass math) */
:root{
  --page-pad: clamp(16px, 12px + 1vw, 32px);
  --nav-height: 58px;

  /* Light theme */
  --color-bg: #{$paper};
  --color-fg: #{$fg};
  --color-fg-weak: #{$fg-weak};
  --color-ink: #{$ink};
  --color-border: #{$border-lt};
  --color-bg-elev: #{$bg-elev};

  --fs-3xl: clamp(1.75rem, 1.4rem + 1.2vw, 2.25rem);
  --fs-4xl: clamp(2rem, 1.6rem + 2vw, 3rem);

  color-scheme: light;
}
:root[data-color-scheme="dark"]{
  --color-bg: #{$bg-dark};
  --color-fg: #{$fg-dark};
  --color-fg-weak: #{$fg-weak-dark};
  --color-ink: #ffffff;
  --color-border: #{$border-dk};
  --color-bg-elev: #{$bg-elev-dark};
  color-scheme: dark;
}

/* ===== Reset & Base HTML ===== */
*,
*::before,
*::after { box-sizing: border-box; }
html { font-size: $fs-root; scroll-behavior: smooth; }
body {
  margin: 0; font-family: $font-sans; font-size: $fs-md; line-height: $lh;
  color: var(--color-fg); background: var(--color-bg);
  -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;
}
img, svg, video, canvas { display: block; max-width: 100%; }
img { height: auto; }

a { color: var(--color-ink); text-decoration: none; }
a:hover { color: $brand; }
:focus-visible { outline: 2px solid rgba(1,118,211,.6); outline-offset: 2px; }

/* Headings & text */
h1{ color: var(--color-ink); font-weight: 600; line-height: $lh-tight; font-size: var(--fs-4xl); margin: 0 0 $space-12; }
h2{ color: var(--color-ink); font-weight: 600; line-height: $lh-tight; font-size: var(--fs-3xl); margin: 0 0 $space-8; }
h3{ color: var(--color-ink); font-weight: 600; line-height: $lh-tight; font-size: $fs-lg;     margin: 0 0 $space-6; }
p { margin: 0 0 $space-8; }
small, .text-sm { font-size: $fs-sm; }
.mono { font-family: $font-mono; }

/* Lists */
ul, ol { margin: 0 0 $space-8 $space-8; padding: 0; }
li + li { margin-top: .5em; }

/* Code */
code, pre { font-family: $font-mono; background: var(--color-bg-elev); color: var(--color-ink); }
code { padding: 2px 6px; border: 1px solid var(--color-border); border-radius: 8px; }
pre  { padding: $space-8; border: 1px solid var(--color-border); border-radius: $radius; overflow: auto; }

/* Tables */
table { width: 100%; border-collapse: collapse; font-size: $fs-sm; }
th, td { padding: $space-6 $space-8; border-bottom: 1px solid var(--color-border); }
th { text-align: left; color: var(--color-ink); font-weight: 600; }

/* Forms */
label { display: inline-block; margin-bottom: .5rem; font-size: $fs-sm; color: var(--color-fg-weak); }
input, select, textarea {
  width: 100%; font: inherit; color: var(--color-ink); background: var(--color-bg);
  border: 1px solid var(--color-border); border-radius: 10px; padding: $space-6 $space-8;
}
input::placeholder, textarea::placeholder { color: var(--color-fg-weak); }

/* ===== Layout primitives ===== */
.container { @include container; padding-inline: var(--page-pad); }
.section   { @include container; margin-block: $space-16; padding: $space-16; background: var(--color-bg-elev); border: 1px solid var(--color-border); border-radius: $radius; }
.section--flat { background: transparent; border-color: transparent; }

.site-main { padding-top: calc(var(--nav-height) + var(--page-pad)); } /* keep content below sticky header */

/* Simple grid */
.row { display: grid; grid-template-columns: repeat(var(--cols,12), minmax(0,1fr)); gap: var(--gap, 1rem); }
.col { min-width: 0; }
.cols-1{ --cols:1; } .cols-2{ --cols:2; } .cols-3{ --cols:3; } .cols-4{ --cols:4; } .cols-6{ --cols:6; } .cols-12{ --cols:12; }
.gap-6{ --gap: .75rem; } .gap-8{ --gap: 1rem; } .gap-12{ --gap: 1.5rem; }
@include media-md{ .cols-3, .cols-4, .cols-6, .cols-12 { --cols: 2; } }
@media (max-width: 768px){ .cols-2, .cols-3, .cols-4, .cols-6, .cols-12 { --cols: 1; } }

/* Utilities (just the essentials) */
.text-center{ text-align:center!important; } .muted{ color: var(--color-fg-weak); }
.mt-0{ margin-top:0!important; } .mb-0{ margin-bottom:0!important; }
.mt-8{ margin-top:$space-8!important; } .mb-8{ margin-bottom:$space-8!important; }
.pt-8{ padding-top:$space-8!important; } .pb-8{ padding-bottom:$space-8!important; }
.hidden{ display:none!important; }
.visually-hidden{ position:absolute!important; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }
