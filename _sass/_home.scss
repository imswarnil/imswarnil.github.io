@import "variables";

// ======================================================================
// home.scss — soft, airy homepage (scoped to .home)
// ======================================================================

.home {
  // shared page padding
  padding-inline: $container-gutter;
  // ❌ was: calc(#{$navbar-height} + $sp-10)
  // ✅ interpolate both so Sass doesn't try to add px + rem at build time
  padding-top: calc(#{$navbar-height} + #{$sp-10});

  // ----------------------------------------------------
  // Section shell (subtle radii + shadowless by default)
  // ----------------------------------------------------
  .h-section {
    @include container;
    margin: 0 auto $sp-12;
    border-radius: $radius-6;
    border: 1px solid transparent;
    background: transparent;
  }

  // compact header row used in each section
  .h-head {
    display: flex; align-items: center; justify-content: space-between;
    gap: $sp-6; margin-bottom: $sp-8;
    .h-title {
      margin: 0;
      font-size: clamp(1.4rem, 1rem + 1.2vw, 2rem);
      font-weight: $fw-semibold;
      letter-spacing: -0.01em;
      @include theme-block      { color: tone(contrast, light); }
      @include theme-block-dark { color: tone(contrast, dark); }
    }
    .h-sub {
      font-size: $fs-3;
      @include theme-block      { color: tone(secondary, light); }
      @include theme-block-dark { color: tone(secondary, dark); }
    }
  }

  // ====================================================
  // HERO — split layout, gradient canvas + floating card
  // ====================================================
  .hero {
    @include container;
    display: grid; gap: clamp(1rem, 3vw, 3.5rem);
    grid-template-columns: 1.05fr .95fr;
    align-items: center;
    margin-bottom: $sp-16;

    @media (max-width: $bp-lg) { grid-template-columns: 1fr; }

    &__left {
      display: grid; gap: $sp-7; align-content: start;
    }

    .eyebrow {
      display: inline-flex; gap: $sp-4; align-items: center;
      padding: $sp-3 $sp-5; border-radius: $radius-pill; border: 1px solid;
      font-size: $fs-2; line-height: 1;
      @include theme-block {
        color: tone(secondary, light);
        background: tone(surface, light);
        border-color: tone(border, light);
      }
      @include theme-block-dark {
        color: tone(secondary, dark);
        background: tone(background-100, dark);
        border-color: tone(border, dark);
      }
    }

    .title {
      margin: 0;
      font-size: clamp(2rem, 3.2vw, 3rem);
      line-height: 1.12;
      letter-spacing: -0.02em;
      font-weight: 700;
      @include theme-block      { color: tone(contrast, light); }
      @include theme-block-dark { color: tone(contrast, dark); }
    }

    .lead {
      max-width: 64ch; margin: 0;
      font-size: clamp(1rem, 1.2vw, 1.15rem);
      @include theme-block      { color: tone(foreground, light); }
      @include theme-block-dark { color: tone(foreground, dark); }
    }

    .pill-row {
      display: flex; flex-wrap: wrap; gap: $sp-4;
      .pill {
        display: inline-flex; align-items: center; gap: $sp-4;
        padding: 6px 10px; border-radius: $radius-pill; border: 1px solid;
        font-size: $fs-2;
        @include theme-block {
          color: tone(contrast, light);
          background: tone(background-100, light);
          border-color: tone(border, light);
        }
        @include theme-block-dark {
          color: tone(contrast, dark);
          background: tone(background-200, dark);
          border-color: tone(border, dark);
        }
      }
    }

    .cta-row { display: flex; gap: $sp-4; flex-wrap: wrap; }

    &__right {
      position: relative;
      .canvas {
        position: relative;
        border-radius: $radius-6;
        overflow: hidden;
        border: 1px solid;
        @include theme-block      { border-color: tone(border, light); }
        @include theme-block-dark { border-color: tone(border, dark); }
        &::before, &::after {
          content: ""; position: absolute; inset: 0; pointer-events: none; opacity: .9;
          background:
            radial-gradient(40% 60% at 30% 30%, rgba(56,189,248,.18), transparent 60%),
            radial-gradient(40% 60% at 70% 70%, rgba(129,140,248,.18), transparent 60%);
          filter: blur(24px) saturate(1.1);
        }
      }
      .photo {
        display: block; width: 100%; aspect-ratio: 4/5; object-fit: cover;
        transform: translateY(6px);
        border-bottom: 1px solid;
        @include theme-block      { border-color: tone(border, light); }
        @include theme-block-dark { border-color: tone(border, dark); }
      }
      .photo-meta {
        display: flex; align-items: center; justify-content: space-between;
        gap: $sp-6; padding: 10px 12px; border-top: 1px solid;
        @include theme-block {
          background: tone(surface, light);
          border-color: tone(border, light);
        }
        @include theme-block-dark {
          background: tone(background-100, dark);
          border-color: tone(border, dark);
        }
        .mini { font-size: $fs-2; @include theme-block { color: tone(secondary, light);} @include theme-block-dark { color: tone(secondary, dark);} }
      }
      .card { border-radius: $radius-6; box-shadow: $shadow-light; @include theme-block-dark { box-shadow: $shadow-dark; } }
    }
  }

  // ====================================================
  // PROJECTS — mosaic grid with hover lift
  // ====================================================
  .projects {
    .grid {
      display: grid; gap: $sp-5;
      grid-template-columns: repeat(12, 1fr);
      @media (max-width: $bp-xl){ grid-template-columns: repeat(12, 1fr); }
      @media (max-width: 1100px){ grid-template-columns: repeat(6, 1fr); }
      @media (max-width: 700px){ grid-template-columns: repeat(1, 1fr); }
    }
    .card {
      grid-column: span 6;
      display: grid; gap: $sp-4;
      border: 1px solid; border-radius: $radius-4; overflow: hidden;
      transition: transform 160ms $ease-in-out, box-shadow 200ms $ease-in-out, background 200ms ease;
      @include theme-block      { border-color: tone(border, light); background: tone(surface, light); }
      @include theme-block-dark { border-color: tone(border, dark);  background: tone(background-100, dark); }

      &:hover { transform: translateY(-3px); box-shadow: 0 16px 36px -24px rgba(0,0,0,.35); }

      .media { display:block; }
      .media img { display:block; width:100%; aspect-ratio: 16/9; object-fit: cover; }
      .body { padding: $sp-6; display:grid; gap: $sp-4; }
      .title { margin: 0; font-size: $fs-5; font-weight: $fw-semibold; @include theme-block { color: tone(contrast, light);} @include theme-block-dark { color: tone(contrast, dark);} }
      .desc { font-size: $fs-3; @include theme-block { color: tone(secondary, light);} @include theme-block-dark { color: tone(secondary, dark);} }
      .tags { display:flex; flex-wrap:wrap; gap: $sp-3;
        span { font-size: $fs-1; padding: 4px 8px; border-radius: $radius-pill; border: 1px dashed; @include theme-block{border-color:tone(border, light); color: tone(secondary, light);} @include theme-block-dark{border-color:tone(border, dark); color: tone(secondary, dark);} }
      }
      .actions { display:flex; gap: $sp-4; }
    }
    .span-8 { grid-column: span 8; }
  }

  // ====================================================
  // ABOUT — two columns: notes + facts
  // ====================================================
  .about {
    .wrap { display:grid; gap: $sp-8; grid-template-columns: .9fr 1.1fr; @media (max-width:$bp-lg){ grid-template-columns: 1fr; } }
    .notes { font-size: $fs-4; line-height: 1.6; @include theme-block{color:tone(foreground, light);} @include theme-block-dark{color:tone(foreground, dark);} }
    .list { margin: $sp-6 0 0; padding-left: 1.1rem; li{ margin-bottom: .35rem; } }

    .facts {
      display:grid; gap: $sp-4;
      grid-template-columns: repeat(2, minmax(0,1fr));
      @media (max-width:$bp-md){ grid-template-columns: 1fr; }
      .fact {
        border: 1px solid; border-radius: $radius-4; padding: $sp-6;
        @include theme-block{ background:tone(surface, light); border-color: tone(border, light); }
        @include theme-block-dark{ background:tone(background-100, dark); border-color: tone(border, dark); }
        .label { font-size: $fs-2; @include theme-block{color:tone(secondary, light);} @include theme-block-dark{color:tone(secondary, dark);} }
        .value { font-weight: $fw-semibold; @include theme-block{color:tone(contrast, light);} @include theme-block-dark{color:tone(contrast, dark);} }
      }
    }
  }

  // ====================================================
  // SERVICES — simple tiles
  // ====================================================
  .services {
    .tiles { display:grid; gap: $sp-5; grid-template-columns: repeat(3, 1fr); @media (max-width:$bp-lg){ grid-template-columns: 1fr 1fr; } @media (max-width:$bp-md){ grid-template-columns: 1fr; } }
    .tile {
      border: 1px solid; border-radius: $radius-4; padding: $sp-7; display:grid; gap: $sp-3;
      transition: transform 140ms $ease-in-out, background 200ms ease;
      @include theme-block{ background:tone(surface, light); border-color: tone(border, light); }
      @include theme-block-dark{ background:tone(background-100, dark); border-color: tone(border, dark); }
      &:hover { transform: translateY(-2px); }
      .t { margin:0; font-size:$fs-5; font-weight:$fw-semibold; @include theme-block{color:tone(contrast, light);} @include theme-block-dark{color:tone(contrast, dark);} }
      .d { font-size:$fs-3; @include theme-block{color:tone(secondary, light);} @include theme-block-dark{color:tone(secondary, dark);} }
    }
  }

  // ====================================================
  // TESTIMONIALS — soft quotes
  // ====================================================
  .testimonials {
    .quotes { display:grid; gap: $sp-5; grid-template-columns: repeat(3, 1fr); @media (max-width:$bp-lg){ grid-template-columns: 1fr; } }
    .quote {
      border: 1px solid; border-radius: $radius-4; padding: $sp-7;
      @include theme-block{ background:tone(surface, light); border-color:tone(border, light); }
      @include theme-block-dark{ background:tone(background-100, dark); border-color:tone(border, dark); }
      blockquote { margin: 0 0 $sp-4 0; font-size: $fs-4; }
      figcaption { font-size: $fs-2; @include theme-block{color:tone(secondary, light);} @include theme-block-dark{color:tone(secondary, dark);} }
    }
  }

  // ====================================================
  // BLOG — compact list cards
  // ====================================================
  .blog {
    .posts { display:grid; gap:$sp-5; grid-template-columns: repeat(3, 1fr); @media (max-width:$bp-lg){ grid-template-columns: 1fr; } }
    .post {
      border: 1px solid; border-radius: $radius-4; padding: $sp-7; display:grid; gap:$sp-3;
      @include theme-block{ background:tone(surface, light); border-color:tone(border, light); }
      @include theme-block-dark{ background:tone(background-100, dark); border-color:tone(border, dark); }
      .post-title { margin:0; font-size:$fs-4; font-weight:$fw-semibold; @include theme-block{color:tone(contrast, light);} @include theme-block-dark{color:tone(contrast, dark);} }
      .meta { font-size:$fs-2; @include theme-block{color:tone(secondary, light);} @include theme-block-dark{color:tone(secondary, dark);} }
    }
  }

  // ====================================================
  // CTA — centered call to action
  // ====================================================
  .cta {
    .box {
      @include container;
      text-align: center;
      border: 1px solid; border-radius: $radius-6; padding: $sp-12;
      @include theme-block{ background:tone(surface, light); border-color:tone(border, light); box-shadow:$shadow-light; }
      @include theme-block-dark{ background:tone(background-100, dark); border-color:tone(border, dark); box-shadow:$shadow-dark; }
      .note { margin: $sp-4 0 0; font-size:$fs-3; @include theme-block{color:tone(secondary, light);} @include theme-block-dark{color:tone(secondary, dark);} }
      .cta-row { display:flex; gap:$sp-4; justify-content:center; flex-wrap:wrap; margin-top:$sp-6; }
    }
  }

  // ----------------------------------------
  // tiny utilities (scoped)
  // ----------------------------------------
  .row { display:flex; gap:$sp-4; flex-wrap:wrap; }
  .muted { @include theme-block{ color:tone(secondary, light);} @include theme-block-dark{ color:tone(secondary, dark);} }
  [data-animate]{ opacity:0; transform: translateY(8px); }
  .in-view { opacity:1; transform:none; transition: opacity .6s ease, transform .6s $ease-in-out; }
}
