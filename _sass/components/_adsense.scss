// ======================================================================
// adsense.scss — Responsive AdSense + theme-aware placeholder
// No inline styles or data-ad-format/layout. CSS controls sizing.
// Depends on: _variables.scss
// ======================================================================

@use "variables" as *;

/* Wrapper spacing + centering */
.ad {
  margin-block: clamp($sp-10, 4vw, $sp-16);
  display: grid;
  place-items: center;        // center the slot
  position: relative;
}

/* Small top label: "Advertisement" — sits on the border line */
.ad::before {
  content: "Advertisement";
  position: absolute;
  top: 0; left: 50%;
  transform: translate(-50%, -50%);
  padding: $sp-2 $sp-5;
  font-size: $fs-2;
  border-radius: $radius-pill;
  line-height: 1;
  white-space: nowrap;

  @include theme-block {
    color: tone(secondary, light);
    background: tone(background, light);
    border: 1px solid rgba(0,0,0,.10);
  }
  @include theme-block-dark {
    color: tone(secondary, dark);
    background: tone(background, dark);
    border: 1px solid rgba(255,255,255,.14);
  }
}

/* Core slot: fluid, centered, with a calm placeholder look */
.adsbygoogle.ad__slot {
  display: block;
  width: 100%;
  border-radius: $radius-3;
  // Placeholder surface while AdSense loads:
  @include theme-block {
    background: linear-gradient(180deg, tone(background-100, light), tone(surface, light));
    border: 1px solid rgba(0,0,0,.08);
  }
  @include theme-block-dark {
    background: linear-gradient(180deg, tone(background-200, dark), tone(surface, dark));
    border: 1px solid rgba(255,255,255,.12);
  }
  // Prevent overflow/layout shift:
  overflow: hidden;
}

/* ---------- Responsive variants (pure CSS) ---------- */

/* Square family */
.ad--square .ad__slot {
  aspect-ratio: 1 / 1;
  max-width: clamp(200px, 48vw, 336px);
  margin-inline: auto;
  min-height: clamp(180px, 40vw, 336px);
}

.ad--square-small .ad__slot {
  aspect-ratio: 1 / 1;
  max-width: clamp(160px, 40vw, 250px);
  margin-inline: auto;
  min-height: clamp(140px, 34vw, 250px);
}

.ad--square-large .ad__slot {
  aspect-ratio: 1 / 1;
  max-width: clamp(250px, 56vw, 420px);
  margin-inline: auto;
  min-height: clamp(220px, 50vw, 420px);
}

/* Horizontal (leaderboard-like) */
.ad--horizontal .ad__slot {
  width: 100%;
  min-height: clamp(50px, 10vw, 90px);
}

/* Vertical (skyscraper-like) */
.ad--vertical .ad__slot {
  max-width: clamp(120px, 44vw, 300px);
  margin-inline: auto;
  min-height: clamp(300px, 60vh, 600px);
}

/* Fluid / In-article / Autorelaxed */
.ad--fluid .ad__slot      { width: 100%; min-height: 200px; }
.ad--in_article .ad__slot { width: 100%; min-height: 180px; }
.ad--autorelaxed .ad__slot{ width: 100%; min-height: 240px; }

/* Slightly tweak at breakpoints */
@include mq-up($bp-md) {
  .ad--horizontal .ad__slot { min-height: clamp(60px, 7vw, 90px); }
  .ad--vertical   .ad__slot { min-height: clamp(400px, 60vh, 700px); }
}
@include mq-up($bp-lg) {
  .ad--square .ad__slot       { max-width: 336px; }
  .ad--square-small .ad__slot { max-width: 250px; }
  .ad--square-large .ad__slot { max-width: 420px; }
}
