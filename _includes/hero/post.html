<section class="site-hero hero--post" role="region" aria-label="Post hero">
  <div class="hero-surface" aria-hidden="true"></div>
  <div class="container">
    <div class="hero-grid hero-grid--post">
      {% if page.feature_image %}
      <!-- Image first on mobile for posts too -->
      <figure class="hero-art hero-art--cover">
        <img src="{{ page.feature_image }}" alt="" loading="eager" />
      </figure>
      {% endif %}

      <div class="hero-copy">
        <div class="post-head">
          <img
            class="author-avatar"
            src="{{ page.author_avatar | default: site.avatarurl | default: site.logo | default: 'https://i.pravatar.cc/96?u=author' }}"
            alt="{{ page.author | default: site.author | default: 'Author' }}"
            width="56" height="56" loading="eager" />
          <div class="post-titleblock">
            <h1 class="hero-title">{{ page.title }}</h1>
            <div class="hero-meta">
              {% assign date_format = site.date_format | default: "%d %b %Y" %}
              <time datetime="{{ page.date | date_to_xmlschema }}"><i class="ph-bold ph-calendar-blank"></i>{{ page.date | date: date_format }}</time>

              {% if page.categories and page.categories.size > 0 %}
                <span class="dot">•</span>
                <span class="cats">
                  {% for c in page.categories %}
                    <a class="chip" href="{{ '/categories/#' | append: c | downcase | slugify | relative_url }}"><i class="ph-bold ph-tag"></i>{{ c }}</a>{% unless forloop.last %}<span>,</span>{% endunless %}
                  {% endfor %}
                </span>
              {% endif %}

              {% if page.tags and page.tags.size > 0 %}
                <span class="dot">•</span>
                <span class="cats">
                  {% for t in page.tags %}
                    <a class="chip chip--ghost" href="{{ '/tags/#' | append: t | downcase | slugify | relative_url }}"><i class="ph-bold ph-hash"></i>{{ t }}</a>{% unless forloop.last %}<span>,</span>{% endunless %}
                  {% endfor %}
                </span>
              {% endif %}

              {% assign words = page.content | number_of_words %}
              {% assign mins = words | divided_by:200 | plus:1 %}
              <span class="dot">•</span><span class="read"><i class="ph-bold ph-hourglass-low"></i>{{ mins }} min read</span>

              {% assign author_name = page.author | default: site.author | default: site.social.name %}
              {% if author_name %}
                <span class="dot">•</span><span class="by"><i class="ph-bold ph-user"></i>{{ author_name }}</span>
              {% endif %}
            </div>
            {% if page.subtitle %}<p class="hero-sub">{{ page.subtitle }}</p>{% endif %}
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
