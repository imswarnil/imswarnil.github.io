<!-- Search Page Layout (keeps your existing JS + IDs) -->
<section class="search-page">
  <div class="search-page__grid">
    <!-- MAIN -->
    <div class="search-page__main">
      <header class="search-page__head">
        <h1 class="search-page__title"><i class="ph ph-magnifying-glass"></i> Search</h1>
        <p class="search-page__hint small">Type to search. Press <kbd>Enter</kbd> to open.</p>
      </header>

      <!-- Top banner ad -->
      <div class="search-page__ad search-page__ad--banner" aria-hidden="true">
        <!-- AdSense: replace with your publisher + slot -->
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-client="ca-pub-XXXXXXXXXXXXXXXX"
             data-ad-slot="1234567890"
             data-ad-format="auto"
             data-full-width-responsive="true"></ins>
      </div>

      <!-- Your existing component (IDs unchanged) -->
      <div class="form form--search island">
        <form id="contact-form" action="">
          <label class="label visually-hidden" for="search">Search term:</label>
          <div class="search-page__field">
            <i class="ph ph-magnifying-glass icon-sm" aria-hidden="true"></i>
            <input class="input" id="search" type="search" name="search" placeholder="e.g. About us" autocomplete="off" />
            <button type="button" class="button-transparent button-sm search-page__clear" aria-label="Clear">
              <i class="ph ph-x"></i>
            </button>
          </div>

          <ul class="list list--results search-page__list" id="list" role="list">
            <!-- results go here -->
          </ul>

          <!-- In-feed ad placeholder (you can also inject via JS after N results) -->
          <div class="search-page__ad search-page__ad--infeed" aria-hidden="true">
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-XXXXXXXXXXXXXXXX"
                 data-ad-slot="1122334455"
                 data-ad-format="fluid"
                 data-ad-layout-key="-fb+5w+4e-db+86"
                 data-full-width-responsive="true"></ins>
          </div>
        </form>
      </div>
    </div>

    <!-- SIDEBAR -->
    <aside class="search-page__side">
      <div class="island search-page__card">
        <div class="section-head" style="border-bottom:none;padding-bottom:0">
          <i class="ph ph-lightbulb icon"></i>
          <h3>Tips</h3>
        </div>
        <div class="section-body" style="padding-top:0">
          <ul>
            <li>Use quotes for exact phrase matches.</li>
            <li>Try alternate keywords or shorter terms.</li>
            <li>Press <kbd>Esc</kbd> to clear the query.</li>
          </ul>
        </div>
      </div>

      <div class="search-page__ad search-page__ad--side" aria-hidden="true">
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-client="ca-pub-XXXXXXXXXXXXXXXX"
             data-ad-slot="0987654321"
             data-ad-format="auto"
             data-full-width-responsive="true"></ins>
      </div>
    </aside>
  </div>
</section>

<!-- Keep your original scripts below (unchanged) -->
<script type="text/javascript" src="{{ "/assets/scripts/fetch.js" | relative_url }}"></script>
<script type="text/javascript">
  const endpoint = '{{ "/assets/search.json" | relative_url }}';

  const pages = [];

  fetch(endpoint)
    .then(blob => blob.json())
    .then(data => pages.push(...data))

  function findResults(termToMatch, pages) {
    return pages.filter(item => {
      const regex = new RegExp(termToMatch, 'gi');
      return item.title.match(regex) || item.content.match(regex);
    });
  }

  function displayResults() {
    const resultsArray = findResults(this.value, pages);
    const html = resultsArray.map(item => {
      return `
        <li class="item item--result search-page__result">
          <article class="article typeset">
            <h4 class="search-page__result-title"><a href="${item.url}">${item.title}</a></h4>
            <p class="search-page__result-excerpt">${item.excerpt}</p>
          </article>
        </li>`;
    }).join('');
    if ((resultsArray.length == 0) || (this.value == '')) {
      resultsList.innerHTML = `<li class="search-page__empty">Sorry, nothing was found</li>`;
    } else {
      resultsList.innerHTML = html;
    }

    // (Optional) trigger ads if available
    try { (adsbygoogle = window.adsbygoogle || []).push({}); } catch(_) {}
  }

  const field = document.querySelector('#search');
  const resultsList = document.querySelector('#list');
  const clearBtn = document.querySelector('.search-page__clear');

  field.addEventListener('keyup', displayResults);

  field.addEventListener('keydown', function(event) {
    if (event.key === 'Enter') {
      event.preventDefault();
    }
  });

  if (clearBtn) {
    clearBtn.addEventListener('click', () => {
      field.value = '';
      resultsList.innerHTML = '';
      field.focus();
    });
  }
</script>
<noscript>Please enable JavaScript to use the search form.</noscript>
