{%- comment -%}
Usage examples:
  {% include adsense.html type="square" %}          # uses site.adsense.placements.square
  {% include adsense.html type="horizontal" %}
  {% include adsense.html type="vertical" %}
  {% include adsense.html type="fluid" %}
  {% include adsense.html type="in_article" %}
  {% include adsense.html type="autorelaxed" %}

Override slot explicitly:
  {% include adsense.html type="square" slot="1234567890" %}

Optional: add class for spacing overrides:
  {% include adsense.html type="square" class="mt-8" %}
{%- endcomment -%}

{%- if site.adsense and site.adsense.enabled and site.adsense.client -%}
  {%- assign type = include.type | default: 'square' -%}
  {%- assign slot_from_map = site.adsense.placements[type] -%}
  {%- assign slot = include.slot | default: slot_from_map -%}
  {%- assign extra = include.class -%}

  {%- if slot -%}
    <div class="ad ad--{{ type }}{% if extra %} {{ extra }}{% endif %}">
      <ins class="adsbygoogle ad__slot"
           data-ad-client="{{ site.adsense.client }}"
           data-ad-slot="{{ slot }}"></ins>
    </div>
  {%- else -%}
    <!-- Missing slot for type: {{ type }} -->
  {%- endif -%}
{%- endif -%}
