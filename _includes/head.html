<head>
    <!-- General meta -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    {% if page.indexing == false %}
      <meta name="robots" content="noindex">
    {% endif %}

    {% if page.collectionpage %}
      {% seo title=false %}

      {% assign collectiondata = site.collections | where: "label", page.collectionpage | first %}
      <title>{{ collectiondata.title }} - {{ site.title }}</title>
      <meta property="og:title" content="{{ collectiondata.title }}">
      <meta name="description" content="{{ collectiondata.description }}">
      <meta property="og:description" content="{{ collectiondata.description }}">
    {% else %}
      {% seo %}
    {% endif %}
    {% if site.fonts.preconnect_urls %}
      {% for url in site.fonts.preconnect_urls %}
        <link rel="preconnect" href="{{ url }}" crossorigin />
      {% endfor %}
    {% endif %}

    <link rel="manifest" href="{{ "/manifest.json" | relative_url }}">
    <meta name="theme-color" content="{{ site.manifest.theme_color | default: '#242e2b' }}"/>

    {% if site.css_inline == true %}
      {% include site-styles.html %}
    {% else %}
      <link rel="stylesheet" href="{{ "/assets/styles.css" | relative_url }}">
    {% endif %}

    {%- if site.adsense and site.adsense.enabled and site.adsense.client -%}
  <script>
    // Expose config to the page JS
    window.__ADCFG = {
      enabled: {{ site.adsense.enabled | jsonify }},
      client: {{ site.adsense.client | jsonify }},
      placements: {{ site.adsense.placements | jsonify }},
      lazyOffset: {{ site.adsense.lazy_offset | default: 200 | jsonify }}
    };
  </script>

  <script defer>
    (function(){
      if (!window.__ADCFG || !__ADCFG.enabled) return;

      var loaderInjected = false;
      function ensureLoader(){
        if (loaderInjected) return;
        var s = document.createElement('script');
        s.async = true;
        s.crossOrigin = 'anonymous';
        s.src = "https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=" + encodeURIComponent(__ADCFG.client);
        document.head.appendChild(s);
        loaderInjected = true;
      }

      function hydrate(el){
        if (el.__hydrated) return;
        ensureLoader();
        (window.adsbygoogle = window.adsbygoogle || []).push({});
        el.__hydrated = true;
      }

      function observe(){
        var margin = (__ADCFG.lazyOffset || 200) + "px";
        var ads = document.querySelectorAll('ins.adsbygoogle[data-ad-slot]');
        if ('IntersectionObserver' in window) {
          var io = new IntersectionObserver(function(entries){
            entries.forEach(function(e){
              if (e.isIntersecting) {
                hydrate(e.target);
                io.unobserve(e.target);
              }
            });
          }, { rootMargin: margin });
          ads.forEach(function(el){ io.observe(el); });
        } else {
          // Fallback: no IO support â†’ hydrate immediately
          ads.forEach(hydrate);
        }
      }

      if (document.readyState === "loading") {
        document.addEventListener('DOMContentLoaded', observe);
      } else {
        observe();
      }
    })();
  </script>
{%- endif -%}

     <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/@phosphor-icons/web@2.1.2/src/bold/style.css"/>

    {% if site.favicons or site.avatarurl %}{% include site-favicons.html %}{% endif %}

    {% if site.google_analytics %}{% include site-analytics.html %}{% endif %}

    {% include site-fonts.html %}

    {% include site-before-start.html %}
  </head>